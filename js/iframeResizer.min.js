/*! iFrame Resizer (iframeSizer.min.js ) - v2.4.0 - 2014-04-24
 *  Desc: Force cross domain iframes to size to content.
 *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
 *  Copyright: (c) 2014 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */

!function(){"use strict";function a(a,b,c){"addEventListener"in window?a.addEventListener(b,c,!1):"attachEvent"in window&&a.attachEvent("on"+b,c)}function b(){var a,b=["moz","webkit","o","ms"];for(a=0;a<b.length&&!window.requestAnimationFrame;a+=1)window.requestAnimationFrame=window[b[a]+"RequestAnimationFrame"];window.requestAnimationFrame||(c(" RequestAnimationFrame not supported"),window.requestAnimationFrame=function(a){a()})}function c(a){q.log&&"console"in window&&console.log(m+"[Host page]"+a)}function d(a){function b(){function a(a){o.iframe.style[a]=o[a]+"px",c(" IFrame ("+o.iframe.id+") "+a+" set to "+o[a]+"px")}function b(){q.sizeHeight&&a("height"),q.sizeWidth&&a("width"),f()}"resetPage"!==o.type?(c(" Requesting animation frame"),window.requestAnimationFrame(b)):b()}function d(a){c(" iFrame "+a.id+" removed."),a.parentNode.removeChild(a)}function e(){var a=l.substr(n).split(":");return{iframe:document.getElementById(a[0]),height:a[1],width:a[2],type:a[3]}}function h(){switch(o.type){case"close":d(o.iframe),q.resizedCallback(o);break;case"message":k();break;case"reset":g(o.iframe);break;default:b(),q.resizedCallback(o)}}function i(){var b=a.origin,d=o.iframe.src.split("/").slice(0,3).join("/");if(q.checkOrigin&&(c(" Checking conection is from: "+d),""+b!="null"&&b!==d))throw new Error("Unexpected message received from: "+b+" for "+o.iframe.id+". Message was: "+a.data);return!0}function j(){return m===(""+l).substr(0,n)}function k(){var a=l.substr(l.lastIndexOf(":")+1);c(' Received message "'+a+'" from '+o.iframe.id),q.messageCallback({iframe:o.iframe,message:a})}var l=a.data,o={};j()&&(o=e(),i()&&h())}function e(){null===o&&(o={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},c(" Get position: "+o.x+","+o.y))}function f(){null!==o&&(window.scrollTo(o.x,o.y),c(" Set position: "+o.x+","+o.y),o=null)}function g(a,b){function d(d){a.style[d]=0,c(" IFrame ("+a.id+") "+d+" reset by "+("init"===b?"host page":"iFrame"))}function f(){q.sizeHeight&&d("height"),q.sizeWidth&&d("width"),"init"!==b&&h("reset","reset",a)}function g(){"init"!==b?(c(" Requesting animation frame for reset"),window.requestAnimationFrame(f)):f()}e(),g()}function h(a,b,d){c("["+a+"] Sending msg to iframe ("+b+")"),d.contentWindow.postMessage(m+b,"*")}function i(){function b(a){return""===a&&(j.id=a="iFrameResizer"+l++,c(" Added missing iframe ID: "+a)),a}function d(){c(" IFrame scrolling "+(q.scrolling?"enabled":"disabled")+" for "+k),j.style.overflow=!1===q.scrolling?"hidden":"auto",j.scrolling=!1===q.scrolling?"no":"yes"}function e(){("number"==typeof q.bodyMargin||"0"===q.bodyMargin)&&(q.bodyMarginV1=q.bodyMargin,q.bodyMargin=""+q.bodyMargin+"px")}function f(){return k+":"+q.bodyMarginV1+":"+q.sizeWidth+":"+q.log+":"+q.interval+":"+q.enablePublicMethods+":"+q.autoResize+":"+q.bodyMargin+":"+q.heightCalculationMethod+":"+q.bodyBackground+":"+q.bodyPadding}function i(b){a(j,"load",function(){h("iFrame.onload",b,j),q.heightCalculationMethod in p&&g(j,"init")}),h("init",b,j)}var j=this,k=b(j.id);d(),e(),i(f())}function j(){function a(a){if("IFRAME"!==a.tagName)throw new TypeError("Expected <IFRAME> tag, found <"+a.tagName+">.");i.call(a)}function b(a){if(a=a||{},"object"!=typeof a)throw new TypeError("Options is not an object.");for(var b in r)r.hasOwnProperty(b)&&(q[b]=a.hasOwnProperty(b)?a[b]:r[b])}window.iFrameResize=function(c,d){b(c),Array.prototype.forEach.call(document.querySelectorAll(d||"iframe"),a)}}function k(a){a.fn.iFrameResize=function(b){return q=a.extend({},r,b),this.filter("iframe").each(i).end()}}var l=0,m="[iFrameSizer]",n=m.length,o=null,p={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},q={},r={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,messageCallback:function(){},resizedCallback:function(){},scrolling:!1,sizeHeight:!0,sizeWidth:!1};b(),a(window,"message",d),j(),"jQuery"in window&&k(jQuery)}();
//# sourceMappingURL=../src/iframeResizer.map