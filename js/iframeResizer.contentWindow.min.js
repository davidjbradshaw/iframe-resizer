/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v2.4.3 - 2014-05-04
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: iframeResizer.min.js on host page.
 *  Copyright: (c) 2014 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */

!function(){"use strict";function a(a,b){"addEventListener"in window?window.addEventListener(a,b,!1):"attachEvent"in window&&window.attachEvent("on"+a,b)}function b(a){return Y+"["+$+"] "+a}function c(a){X&&"console"in window&&console.log(b(a))}function d(a){"console"in window&&console.warn(b(a))}function e(){c("Initialising iFrame"),f(),i(),h("background",J),h("padding",M),o(),m(),j(),p(),n()}function f(){function a(a){return"true"===a?!0:!1}var b=V.substr(Z).split(":");$=b[0],K=void 0!==b[1]?parseInt(b[1],I):K,N=void 0!==b[2]?a(b[2]):N,X=void 0!==b[3]?a(b[3]):X,W=void 0!==b[4]?parseInt(b[4],I):W,_=void 0!==b[5]?a(b[5]):_,H=void 0!==b[6]?a(b[6]):H,L=b[7],T=void 0!==b[8]?b[8]:T,J=b[9],M=b[10]}function g(a,b){return-1!==b.indexOf("-")&&(d("Negative CSS value ignored for "+a),b=""),b}function h(a,b){void 0!==b&&""!==b&&"null"!==b&&(document.body.style[a]=b,c("Body "+a+' set to "'+b+'"'))}function i(){void 0===L&&(L=K+"px"),g("margin",L),h("margin",L)}function j(){document.documentElement.style.height="",document.body.style.height="",c('HTML & body height set to "auto"')}function k(){a("resize",function(){A("resize","Window resized")})}function l(){a("click",function(){A("click","Window clicked")})}function m(){S!==T&&(T in gb||(d(T+" is not a valid option for heightCalculationMethod."),T="bodyScroll"),c('Height calculation method set to "'+T+'"'))}function n(){!0===H?(k(),l(),r()):c("Auto Resize disabled")}function o(){var a=document.createElement("div");a.style.clear="both",a.style.display="block",document.body.appendChild(a)}function p(){_&&(c("Enable public methods"),window.parentIFrame={close:function(){A("close","parentIFrame.close()",0,0)},getId:function(){return $},reset:function(){D("parentIFrame.size")},sendMessage:function(a,b){E(0,0,"message",a,b)},setHeightCalculationMethod:function(a){T=a,m()},setTargetOrigin:function(a){c("Set targetOrigin: "+a),bb=a},size:function(a,b){var c=""+(a?a:"")+(b?","+b:"");B(),A("size","parentIFrame.size("+c+")",a,b)}})}function q(){0!==W&&(c("setInterval: "+W+"ms"),setInterval(function(){A("interval","setInterval: "+W)},Math.abs(W)))}function r(){function a(){var a=document.querySelector("body"),d={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},e=new b(function(a){A("mutationObserver","mutationObserver: "+a[0].target+" "+a[0].type)});c("Enable MutationObserver"),e.observe(a,d)}var b=window.MutationObserver||window.WebKitMutationObserver;b?0>W?q():a():(d("MutationObserver not supported in this browser!"),q())}function s(){function a(a){function b(a){var b=/^\d+(px)?$/i;if(b.test(a))return parseInt(a,I);var d=c.style.left,e=c.runtimeStyle.left;return c.runtimeStyle.left=c.currentStyle.left,c.style.left=a||0,a=c.style.pixelLeft,c.style.left=d,c.runtimeStyle.left=e,a}var c=document.body,d=0;return d="defaultView"in document&&"getComputedStyle"in document.defaultView?document.defaultView.getComputedStyle(c,null)[a]:b(c.currentStyle[a]),parseInt(d,I)}return document.body.offsetHeight+a("marginTop")+a("marginBottom")}function t(){return document.body.scrollHeight}function u(){return document.documentElement.offsetHeight}function v(){return document.documentElement.scrollHeight}function w(){return[s(),t(),u(),v()]}function x(){return Math.max.apply(null,w())}function y(){return Math.min.apply(null,w())}function z(){return Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)}function A(a,b,d,e){function f(){a in{reset:1,resetPage:1,init:1}||c("Trigger event: "+b)}function g(){Q=n,fb=o,E(Q,fb,a)}function h(){return db&&a in O}function i(){return Q!==n||N&&fb!==o}function j(){return!(a in{init:1,interval:1,size:1})}function k(){return T in ab}function l(){c("No change in size detected")}function m(){j()&&k()?D(b):a in{interval:1}||(f(),l())}var n=void 0!==d?d:gb[T](),o=void 0!==e?e:z();h()?c("Trigger event cancelled: "+a):i()?(f(),B(),g()):m()}function B(){db||(db=!0,c("Trigger event lock on")),clearTimeout(eb),eb=setTimeout(function(){db=!1,c("Trigger event lock off"),c("--")},P)}function C(a){Q=gb[T](),fb=z(),E(Q,fb,a)}function D(a){var b=T;T=S,c("Reset trigger event: "+a),B(),C("reset"),T=b}function E(a,b,d,e,f){function g(){void 0===f?f=bb:c("Message targetOrigin: "+f)}function h(){var g=a+":"+b,h=$+":"+g+":"+d+(void 0!==e?":"+e:"");c("Sending message to host page ("+h+")"),cb.postMessage(Y+h,f)}g(),h()}function F(){return"iFrameResize"in window}function G(a){function b(){return Y===(""+a.data).substr(0,Z)}b()&&(R?(V=a.data,e(),A("init","Init message from host page"),R=!1,setTimeout(function(){U=!1},P)):"reset"===a.data.split("]")[1]?U?c("Page reset ignored by init"):(c("Page size reset by host page"),C("resetPage")):a.data===V||F()||d("Unexpected message ("+a.data+")"))}var H=!0,I=10,J="",K=0,L="",M="",N=!1,O={resize:1,click:1},P=42,Q=1,R=!0,S="offset",T=S,U=!0,V="",W=32,X=!1,Y="[iFrameSizer]",Z=Y.length,$="",_=!1,ab={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},bb="*",cb=window.parent,db=!1,eb=null,fb=1,gb={offset:s,bodyOffset:s,bodyScroll:t,documentElementOffset:u,scroll:v,documentElementScroll:v,max:x,min:y,grow:x};a("message",G)}();
//# sourceMappingURL=../src/iframeResizer.contentWindow.map