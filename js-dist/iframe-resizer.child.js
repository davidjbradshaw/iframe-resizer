/*!
 *  @preserve
 *  
 *  @module      iframe-resizer/child 5.4.7 (iife) 
 *
 *  @license     GPL-3.0 for non-commercial use only.
 *               For commercial use, you must purchase a license from
 *               https://iframe-resizer.com/pricing
 * 
 *  @description Keep same and cross domain iFrames sized to their content 
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 * 
 *  @see         {@link https://iframe-resizer.com}
 * 
 *  @copyright  (c) 2013 - 2025, David J. Bradshaw. All rights reserved.
 */


!function(){"use strict";const e="font-weight: normal;",t="font-weight: bold;",n="font-style: italic;",o=e+n,r="default",i=Object.freeze({assert:!0,error:!0,warn:!0}),a={expand:!0,defaultEvent:void 0,event:void 0,label:"AutoConsoleGroup",showTime:!0},s={profile:0,profileEnd:0,timeStamp:0,trace:0},l=Object.assign(console);const{fromEntries:c,keys:u}=Object,d=e=>[e,l[e]],f=e=>t=>[t,function(n){e[t]=n}],m=(e,t)=>c(u(e).map(t));const p=!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches,h=p?"color: #A9C7FB;":"color: #135CD2;",g=p?"color: #E3E3E3;":"color: #1F1F1F;",y="5.4.7",b=10,v="data-iframe-size",w="data-iframe-overflowed",z="data-iframe-ignore",$="bottom",S="right",E="autoResizeEnabled",O=Symbol("sizeChanged"),j="manualResize",k="parentResize",M={[j]:1,[k]:1},T="setOffsetSize",C="resizeObserver",x="overflowObserver",I="mutationObserver",A="none",P="init",N=(e,t,n,o)=>e.addEventListener(t,n,o||!1),R=(e,t,n)=>e.removeEventListener(t,n,!1),B=["<iy><yi>Puchspk Spjluzl Rlf</><iy><iy>","<iy><yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.","<iy><yi>Zvsv spjluzl kvlz uva zbwwvya jyvzz-kvthpu</><iy><iy>Av bzl <p>pmyhtl-ylzpgly</> dpao jyvzz kvthpu pmyhtlz fvb ullk lpaoly aol Wyvmlzzpvuhs vy Ibzpulzz spjluzlz. Mvy klahpsz vu bwnyhkl wypjpun wslhzl jvuahja pumv@pmyhtl-ylzpgly.jvt."];Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5"].map(((e,t)=>[e,Math.max(0,t-1)])));const q=e=>(e=>e.replace(/[A-Za-z]/g,(e=>String.fromCodePoint((e<="Z"?90:122)>=(e=e.codePointAt(0)+19)?e:e-26))))(B[e]),L=(e,...t)=>setTimeout((()=>e(...t)),0),F=e=>{let t=!1;return function(){return t?void 0:(t=!0,Reflect.apply(e,this,arguments))}},W=e=>e,D=e=>Math.round(1e3*e)/1e3,H=e=>e.charAt(0).toUpperCase()+e.slice(1),U=e=>""!=`${e}`&&void 0!==e;const V=(e,t,n)=>{if(typeof e!==t)throw new TypeError(`${n} is not a ${H(t)}`)};let Z=!0;const J=(_=function(n={}){const c={},u={},p=[],h={...a,expand:!n.collapsed||a.expanded,...n};let g="";function y(){p.length=0,g=""}function b(){delete h.event,y()}const v=()=>!!p.some((([e])=>e in i))||!!h.expand;function w(){if(0!==p.length){l[v()?"group":"groupCollapsed"](`%c${h.label}%c ${(e=>{const t=e.event||e.defaultEvent;return t?`${t}`:""})(h)} %c${h.showTime?g:""}`,e,t,o);for(const[e,...t]of p)l.assert(e in l,`Unknown console method: ${e}`),e in l&&l[e](...t);l.groupEnd(),b()}else b()}function z(){""===g&&(g=function(){const e=new Date,t=(t,n)=>e[t]().toString().padStart(n,"0");return`@ ${t("getHours",2)}:${t("getMinutes",2)}:${t("getSeconds",2)}.${t("getMilliseconds",3)}`}())}function $(e,...t){0===p.length&&(z(),queueMicrotask((()=>queueMicrotask(w)))),p.push([e,...t])}function S(e=r,...t){c[e]?$("log",`${e}: ${performance.now()-c[e]} ms`,...t):$("timeLog",e,...t)}return{...m(h,f(h)),...m(console,(e=>[e,(...t)=>$(e,...t)])),...m(s,d),assert:function(e,...t){e||$("assert",e,...t)},count:function(e=r){u[e]?u[e]+=1:u[e]=1,$("log",`${e}: ${u[e]}`)},countReset:function(e=r){delete u[e]},endAutoGroup:w,errorBoundary:e=>(...t)=>{let n;try{n=e(...t)}catch(e){if(!Error.prototype.isPrototypeOf(e))throw e;$("error",e)}return n},event:function(e){z(),h.event=e},purge:y,time:function(e=r){z(),c[e]=performance.now()},timeEnd:function(e=r){S(e),delete c[e]},timeLog:S,touch:z}},_?.__esModule?_.default:_);var _;const Q=J({label:"iframeResizer(child)"});var G;const Y=(G="log",(...e)=>!Z||Q[G](...e)),{assert:X,debug:K,endAutoGroup:ee,error:te,errorBoundary:ne,event:oe,label:re,purge:ie,warn:ae}=Q,se=e=>{return Q.warn((t=W,e=>window.chrome?t(e.replaceAll("<br>","\n").replaceAll("<rb>","[31;1m").replaceAll("</>","[m").replaceAll("<b>","[1m").replaceAll("<i>","[3m").replaceAll("<u>","[4m")):t(e.replaceAll("<br>","\n").replaceAll(/<[/a-z]+>/gi,"")))(e));var t},le=se,ce=(e=>(t,n="renamed to")=>(o,r,i="",a="")=>e(a,`<rb>Deprecated ${t}(${o.replace("()","")})</>\n\nThe <b>${o}</> ${t.toLowerCase()} has been ${n} <b>${r}</>. ${i}Use of the old ${t.toLowerCase()} will be removed in a future version of <i>iframe-resizer</>.`))(((e,t)=>se(t))),ue=ce("Method"),de=ce("Method","replaced with"),fe=ce("Option"),me=["min-height","min-width","max-height","max-width"],pe=new Set,he=(e,t)=>window.getComputedStyle(e).getPropertyValue(t),ge=(e,t)=>{return(n=he(e,t))&&"0px"!==n&&"auto"!==n&&"none"!==n;var n};function ye({href:e}){pe.has(e)||pe.add(e)}const be=(e,t)=>function(e,t){const n=e.style[t];return n?{source:"an inline style attribute",value:n}:null}(e,t)||function(e,t){for(const n of document.styleSheets)try{for(const o of n.cssRules||[])if(o.selectorText&&e.matches(o.selectorText)){const e=o.style[t];if(e)return{source:"STYLE"===n.ownerNode.tagName?"an inline <style> block":`stylesheet (${n.href})`,value:e}}}catch(e){ye(n)}return{source:"cross-origin stylesheet",value:he(e,t)}}(e,t),ve=(e,t)=>{const{source:n,value:o}=be(e,t),r=(e=>e.tagName?e.tagName.toLowerCase():"unknown")(e);se(`The <b>${t}</> CSS property is set to <b>${o}</> on the <b><${r}></> element via ${n}. This may cause issues with the correct operation of <i>iframe-resizer</>.\n\nIf you wish to restrict the size of the iframe, then you should set this property on the iframe element itself, not the content inside it.`)};function we(){for(const e of[document.documentElement,document.body])for(const t of me)ge(e,t)&&ve(e,t)}const ze=e=>t=>void 0===t?void 0:e(t),$e=ze((e=>"true"===e)),Se=ze(Number),Ee="--ifr-start",Oe="--ifr-end",je=[],ke=new WeakSet,Me=e=>"object"==typeof e&&ke.add(e);let Te={},Ce=0;const xe=setInterval((()=>{if(je.length<10)return;if(Te.hasTags&&Te.len<25)return;je.sort();const e=Math.min(je.reduce(((e,t)=>e+t),0)/je.length,je[Math.floor(je.length/2)]),t=D(e);t>Ce&&(Ce=t,oe("performanceObserver")),e<=4||(clearInterval(xe),se(`<rb>Performance Warning</>\n\nCalculating the page size is taking an excessive amount of time (${D(e)}ms).\n\nTo improve performance add the <b>data-iframe-size</> attribute to the ${Te.Side.toLowerCase()} most element on the page. For more details see: <u>https://iframe-resizer.com/perf</>.`))}),5e3);function Ie(e){e.getEntries().forEach((e=>{if(e.name===Oe){const{duration:t}=performance.measure("--ifr-measure",Ee,Oe);Te=e.detail,je.push(t),je.length>100&&je.shift()}}))}function Ae(){new PerformanceObserver(Ie).observe({entryTypes:["mark"]}),Me(document.documentElement),Me(document.body)}"undefined"!=typeof document&&"undefined"!=typeof PerformanceObserver&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",Ae):Ae());const Pe=e=>(t,n)=>{if(n in t){if(typeof t[n]===e)return t[n];throw new TypeError(`${n} is not a ${e}.`)}},Ne=Pe("function"),Re=Pe("number"),Be=Pe("string");"undefined"!=typeof window&&function(){const o={height:()=>(ae("Custom height calculation function not defined"),Et.auto()),width:()=>(ae("Custom width calculation function not defined"),Ot.auto())},r={bodyOffset:1,bodyScroll:1,offset:1,documentElementOffset:1,documentElementScroll:1,boundingClientRect:1,max:1,min:1,grow:1,lowestElement:1},i={},a="auto",s="[iFrameSizer]",l="scroll";let c,u,d,f,m,p=!0,B="",D=0,J="",_="",G=!1,K=!0,te=!1,ce=!0,me=!1,pe=!1,he=!1,ge=1,ye=a,be="",ve=!0,ze={},je=!0,ke=!1,Me="",Te=0,Ce=!1,xe="",Ie=W,Ae=[],Pe="child",qe=null,Le=!1,Fe="",We=[],De=window.parent,He="*",Ue=0,Ve=!1,Ze=1,Je=l,_e=window,Qe=()=>{ae("onMessage function not defined")},Ge=()=>{},Ye=null,Xe=null;function Ke(e){var t,n,r;!function(e){xe=e[0]??xe,D=Se(e[1])??D,te=$e(e[2])??te,ke=$e(e[3])??ke,p=$e(e[6])??p,J=e[7]??J,ye=e[8]??ye,B=e[9]??B,_=e[10]??_,Ue=Se(e[11])??Ue,ze.enable=$e(e[12])??!1,Pe=e[13]??Pe,Je=e[14]??Je,Ce=$e(e[15])??Ce,c=Se(e[16])??c,u=Se(e[17])??u,K=$e(e[18])??K,Me=e[19]??Me,f=e[20]??f,Te=Se(e[21])??Te,je=$e(e[23])??je}(e),t={id:xe,enabled:ke,expand:je},Q.label(`${t.id}`),Q.expand(t.expand),Z=t.enabled,function(){function e(e){m=Ne(e,"onBeforeResize")??m,Qe=Ne(e,"onMessage")??Qe,Ge=Ne(e,"onReady")??Ge,"number"==typeof e?.offset&&(fe("offset","offsetSize"),K&&(c=Re(e,"offset")??c),te&&(u=Re(e,"offset")??u)),"number"==typeof e?.offsetSize&&(K&&(c=Re(e,"offsetSize")??c),te&&(u=Re(e,"offsetSize")??u)),be=Be(e,"ignoreSelector")??be,Fe=Be(e,"sizeSelector")??Fe,He=Be(e,"targetOrigin")??He,ye=e?.heightCalculationMethod||ye,Je=e?.widthCalculationMethod||Je}function t(e,t){return"function"==typeof e&&(se(`<rb>Deprecated Option(${t}CalculationMethod)</>\n\nThe use of <b>${t}CalculationMethod</> as a function is deprecated and will be removed in a future version of <i>iframe-resizer</>. Please use the new <b>onBeforeResize</> event handler instead.\n\nSee <u>https://iframe-resizer.com/api/child</> for more details.`),o[t]=e,e="custom"),e}if(1===Te)return;const n=window.iframeResizer||window.iFrameResizer;"object"==typeof n&&(e(n),ye=t(ye,"height"),Je=t(Je,"width"),Y(`Set targetOrigin for parent: %c${He}`,h))}(),ct(),function(){try{Le=1===Te||"iframeParentListener"in window.parent}catch(e){}}(),te===K&&(G=!0),Te<0?le(`${q(Te+2)}${q(2)}`):f?.codePointAt(0)>4||Te<2&&le(q(3)),f&&""!==f&&"false"!==f?f!==y&&se(`<b>Version mismatch</>\n\nThe parent and child pages are running different versions of <i>iframe resizer</>.\n\nParent page: ${f} - Child page: ${y}.\n`):se("<rb>Legacy version detected on parent page</>\n\nDetected legacy version of parent page script. It is recommended to update the parent page to use <b>@iframe-resizer/parent</>.\n\nSee <u>https://iframe-resizer.com/setup/</> for more details.\n"),ft(),mt(),function(){let e=!1;const t=t=>document.querySelectorAll(`[${t}]`).forEach((n=>{e=!0,n.removeAttribute(t),n.toggleAttribute(v,!0)}));t("data-iframe-height"),t("data-iframe-width"),e&&se("<rb>Deprecated Attributes</>\n          \nThe <b>data-iframe-height</> and <b>data-iframe-width</> attributes have been deprecated and replaced with the single <b>data-iframe-size</> attribute. Use of the old attributes will be removed in a future version of <i>iframe-resizer</>.")}(),"BackCompat"===document.compatMode&&se("<rb>Quirks Mode Detected</>\n\nThis iframe is running in the browser's legacy <b>Quirks Mode</>, this may cause issues with the correct operation of <i>iframe-resizer</>. It is recommended that you switch to the modern <b>Standards Mode</>.\n\nFor more information see <u>https://iframe-resizer.com/quirks-mode</>.\n"),ot(),G||we(),1!==Te&&(_e.parentIframe=Object.freeze({autoResize:e=>(V(e,"boolean","parentIframe.autoResize(enable) enable"),!1===te&&!1===K?(oe(E),se(`Auto Resize can not be changed when <b>direction</> is set to '${A}'.`),!1):(!0===e&&!1===p?(p=!0,queueMicrotask((()=>Ct(E,"Auto Resize enabled")))):!1===e&&!0===p&&(p=!1),It(0,0,"autoResize",JSON.stringify(p)),p)),close(){It(0,0,"close")},getId:()=>xe,getOrigin:()=>(ue("getOrigin()","getParentOrigin()"),d),getParentOrigin:()=>d,getPageInfo(e){if("function"==typeof e)return Ye=e,It(0,0,"pageInfo"),void de("getPageInfo()","getParentProps()","See <u>https://iframe-resizer.com/upgrade</> for details. ");Ye=null,It(0,0,"pageInfoStop")},getParentProps:e=>(V(e,"function","parentIframe.getParentProps(callback) callback"),Xe=e,It(0,0,"parentInfo"),()=>{Xe=null,It(0,0,"parentInfoStop")}),getParentProperties(e){ue("getParentProperties()","getParentProps()"),this.getParentProps(e)},moveToAnchor(e){V(e,"string","parentIframe.moveToAnchor(anchor) anchor"),ze.findTarget(e)},reset(){!function(){const e=ye;ye=a,Ve||(Ve=!0,requestAnimationFrame((()=>{Ve=!1}))),xt("reset"),ye=e}()},setOffsetSize(e){V(e,"number","parentIframe.setOffsetSize(offset) offset"),c=e,u=e,Ct(T,`parentIframe.setOffsetSize(${e})`)},scrollBy(e,t){V(e,"number","parentIframe.scrollBy(x, y) x"),V(t,"number","parentIframe.scrollBy(x, y) y"),It(t,e,"scrollBy")},scrollTo(e,t){V(e,"number","parentIframe.scrollTo(x, y) x"),V(t,"number","parentIframe.scrollTo(x, y) y"),It(t,e,"scrollTo")},scrollToOffset(e,t){V(e,"number","parentIframe.scrollToOffset(x, y) x"),V(t,"number","parentIframe.scrollToOffset(x, y) y"),It(t,e,"scrollToOffset")},sendMessage(e,t){t&&V(t,"string","parentIframe.sendMessage(msg, targetOrigin) targetOrigin"),It(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod(e){ye=e,ft()},setWidthCalculationMethod(e){Je=e,mt()},setTargetOrigin(e){V(e,"string","parentIframe.setTargetOrigin(targetOrigin) targetOrigin"),He=e},resize(e,t){e&&V(e,"number","parentIframe.resize(customHeight, customWidth) customHeight"),t&&V(t,"number","parentIframe.resize(customHeight, customWidth) customWidth"),Ct(j,`parentIframe.resize(${e||""}${t?`,${t}`:""})`,e,t)},size(e,t){ue("size()","resize()"),this.resize(e,t)}}),_e.parentIFrame=_e.parentIframe),function(){function e(e){It(0,0,e.type,`${e.screenY}:${e.screenX}`)}function t(t,n){N(window.document,t,e)}!0===Ce&&(t("mouseenter"),t("mouseleave"))}(),ze=function(){const e=()=>({x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop});function t(t){const n=t.getBoundingClientRect(),o=e();return{x:parseInt(n.left,b)+parseInt(o.x,b),y:parseInt(n.top,b)+parseInt(o.y,b)}}function n(e){function n(e){const n=t(e);It(n.y,n.x,"scrollToOffset")}const o=e.split("#")[1]||e,r=decodeURIComponent(o),i=document.getElementById(r)||document.getElementsByName(r)[0];void 0===i?It(0,0,"inPageLink",`#${o}`):n(i)}function o(){const{hash:e,href:t}=window.location;""!==e&&"#"!==e&&n(t)}function r(){for(const e of document.querySelectorAll('a[href^="#"]'))"#"!==e.getAttribute("href")&&N(e,"click",(t=>{t.preventDefault(),n(e.getAttribute("href"))}))}function i(){N(window,"hashchange",o)}function a(){setTimeout(o,128)}function s(){r(),i(),a()}return ze.enable&&(1===Te?se("In page linking requires a Professional or Business license. Please see <u>https://iframe-resizer.com/pricing</> for more details."):s()),{findTarget:n}}(),void 0===J&&(J=`${D}px`),st("margin",(n="margin",(r=J).includes("-")&&(ae(`Negative CSS value ignored for ${n}`),r=""),r)),st("background",B),st("padding",_),function(){const e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.append(e)}(),G||function(){const e=e=>e.style.setProperty("height","auto","important");e(document.documentElement),e(document.body)}(),function(e){ut({method:e,eventType:"After Print",eventName:"afterprint"}),ut({method:e,eventType:"Before Print",eventName:"beforeprint"}),ut({method:e,eventType:"Ready State Change",eventName:"readystatechange"})}("add"),function(){const e=new Set,t=[];let n=!1,o=0;const r=t=>{Y("Mutations observed:",t);for(const n of t){const{addedNodes:t,removedNodes:o}=n;for(const n of t)e.add(n);for(const t of o)e.delete(t)}},i=16,a=2,s=200;let l=1;function c(e){ct(),rt(e),e.forEach(gt),e.clear()}function u(){const d=performance.now(),f=d-o;if(f>i*l+++a&&f<s)return Y("Backed off due to heavy workload on callStack"),setTimeout(u,i*l),void(o=d);l=1,t.forEach(r),t.length=0,e.size>0&&c(e),ot(),tt(),n=!1,Ct(I,"Mutation Observed")}function d(e){t.push(e),n||(o=performance.now(),n=!0,requestAnimationFrame(u))}function f(){const e=new window.MutationObserver(d),t=document.querySelector("body"),n={attributes:!0,attributeFilter:[z,v],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0};return e.observe(t,n),e}f()}(),qe=new ResizeObserver(pt),qe.observe(document.body),ht.add(document.body),gt(document.body),K!==te&&(Ie=(e=>{const t=e.side||$,n=e.onChange||W,o={root:e.root,rootMargin:"0px",threshold:1},r=window?.requestAnimationFrame||W,i=(e=!1)=>n(e),a=(e,n)=>0===e||e>n[t],s=(e,t)=>e.toggleAttribute(w,t),l=new IntersectionObserver((function(e){for(const o of e){const{boundingClientRect:e,rootBounds:r,target:i}=o,l=e[t],c=a(l,r)&&!((n=i).hidden||null===n.offsetParent||"none"===n.style.display);s(i,c)}var n;r(i)}),o),c=new WeakSet;return function(e){for(const t of e){const e=t.nodeType===Node.ELEMENT_NODE,n=c.has(t);!n&&e?(l.observe(t),c.add(t)):X(!n,"Node already observed",t)}}})({onChange:nt,root:document.documentElement,side:K?$:S})),rt(vt(document)()),et(F(Ge)),Ct(P,"Init message from host page",void 0,void 0,y),document.title&&""!==document.title&&It(0,0,"title",document.title)}function et(e){"complete"===document.readyState?L(e):N(document,"readystatechange",(()=>et(e)))}function tt(){const e=document.querySelectorAll(`[${w}]`);Ae=Array.from(e).filter((e=>!e.closest(`[${z}]`))),pe=Ae.length>0}function nt(e){tt(),(pe||e)&&(pe?Y("Overflowed Elements:",...Ae):Y("Overflow removed"),Ct(x,"Overflow updated"))}function ot(){We=document.querySelectorAll(`[${v}]`),he=We.length>0}function rt(e){he||Ie(e)}let it=0;function at(){const n=document.querySelectorAll(`*[${z}]`);me=n.length>0,me&&n.length!==it&&(function(n){const o=1===n.length?"":"s";ae(`%c[${z}]%c found on %c${n.length}%c element${o}`,t,e,t,e)}(n),it=n.length)}function st(e,t){void 0!==t&&""!==t&&"null"!==t&&(document.body.style.setProperty(e,t),Y(`Set body ${e}: %c${t}`,h))}function lt(e,t,n){if(""!==n)for(const e of document.querySelectorAll(n))e.toggleAttribute(t,!0)}function ct(){lt(0,v,Fe),lt(0,z,be)}function ut(e){({add(t){function n(){Ct(e.eventName,e.eventType)}i[t]=n,N(window,t,n,{passive:!0})},remove(e){const t=i[e];delete i[e],R(window,e,t)}})[e.method](e.eventName)}function dt(e,t,n,o){return t!==e&&(e in n||(ae(`${e} is not a valid option for ${o}CalculationMethod.`),e=t),e in r)&&se(`<rb>Deprecated ${o}CalculationMethod (${e})</>\n\nThis version of <i>iframe-resizer</> can auto detect the most suitable ${o} calculation method. It is recommended that you ${f?"remove this option.":"set this option to <b>'auto'</> when using an older version of <i>iframe-resizer</> on the parent page."}`),e}function ft(){ye=dt(ye,a,Et,"height")}function mt(){Je=dt(Je,l,Ot,"width")}function pt(e){if(!Array.isArray(e)||0===e.length)return;const t=e[0].target;Ct(C,`Element resized <${function(e){switch(!0){case!U(e):return"";case U(e.id):return`${e.nodeName}#${e.id}`;case U(e.name):return`${e.nodeName} (${e.name}`;case U(e.className):return`${e.nodeName}.${e.className}`;default:return e.nodeName}}(t)}>`)}const ht=new WeakSet;function gt(e){if(e.nodeType!==Node.ELEMENT_NODE)return;if(!ht.has(e)){const t=getComputedStyle(e)?.position;""!==t&&"static"!==t&&(qe.observe(e),ht.add(e))}const t=vt(e)();for(const e of t){if(ht.has(e)||e?.nodeType!==Node.ELEMENT_NODE)continue;const t=getComputedStyle(e)?.position;""!==t&&"static"!==t&&(qe.observe(e),ht.add(e))}}function yt(e){performance.mark(Ee);const t=H(e);let n=0,o=document.documentElement,r=he?0:document.documentElement.getBoundingClientRect().bottom;const i=he?We:pe?Ae:vt(document)();for(const t of i)n=t.getBoundingClientRect()[e]+parseFloat(getComputedStyle(t).getPropertyValue(`margin-${e}`)),n>r&&(r=n,o=t);return Y(`${t} position calculated from:`,o),performance.mark(Oe,{detail:{hasTags:he,len:i.length,logging:ke,Side:t}}),r}const bt=e=>[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll(),e.boundingClientRect()],vt=e=>()=>{at();const t=["* ","not(head)","not(meta)","not(base)","not(title)","not(script)","not(link)","not(style)","not(map)","not(area)","not(option)","not(optgroup)","not(template)","not(track)","not(wbr)","not(nobr)"];return me&&t.push(`not([${z}])`,`not([${z}] *)`),e.querySelectorAll(t.join(":"))},wt={height:0,width:0},zt={height:0,width:0},$t=[h,g,h];function St(e){function t(){return zt[o]=r,wt[o]=s,r}const n=e===Et,o=n?"height":"width",r=e.boundingClientRect(),i=Math.ceil(r),a=Math.floor(r),s=(e=>e.documentElementScroll()+Math.max(0,e.getOffset()))(e),l=`HTML: %c${r}px %cPage: %c${s}px`;let c=0;switch(!0){case!e.enabled():return s;case he:Y("Found element with data-iframe-size attribute"),c=e.taggedElement();break;case!pe&&0===zt[o]&&0===wt[o]:Y(`Initial page size values: ${l}`,...$t),c=t();break;case Ve&&r===zt[o]&&s===wt[o]:Y(`Size unchanged: ${l}`,...$t),c=Math.max(r,s);break;case 0===r:Y(`Page is hidden: ${l}`,...$t),c=s;break;case!pe&&r!==zt[o]&&s<=wt[o]:Y(`New <html> size: ${l} `,...$t),Y(`Previous <html> size: %c${zt[o]}px`,h),c=t();break;case!n:c=e.taggedElement();break;case!pe&&r<zt[o]:Y(`<html> size decreased: ${l}`,...$t),c=t();break;case s===a||s===i:Y(`<html> size equals page size: ${l}`,...$t),c=t();break;case r>s:Y(`Page size < <html> size: ${l}`,...$t),c=t();break;case pe:Y("Found element overflowing <html> "),c=e.taggedElement();break;default:Y(`Using <html> size: ${l}`,...$t),c=t()}return Y(`Content ${o}: %c${c}px`,h),c+=function(e){const t=e.getOffset();return 0!==t&&Y(`Page offsetSize: %c${t}px`,h),t}(e),c}const Et={enabled:()=>K,getOffset:()=>c,auto:()=>St(Et),bodyOffset:()=>{const{body:e}=document,t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,b)+parseInt(t.marginBottom,b)},bodyScroll:()=>document.body.scrollHeight,offset:()=>Et.bodyOffset(),custom:()=>o.height(),documentElementOffset:()=>document.documentElement.offsetHeight,documentElementScroll:()=>document.documentElement.scrollHeight,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().bottom,document.body.getBoundingClientRect().bottom),max:()=>Math.max(...bt(Et)),min:()=>Math.min(...bt(Et)),grow:()=>Et.max(),lowestElement:()=>yt($),taggedElement:()=>yt($)},Ot={enabled:()=>te,getOffset:()=>u,auto:()=>St(Ot),bodyScroll:()=>document.body.scrollWidth,bodyOffset:()=>document.body.offsetWidth,custom:()=>o.width(),documentElementScroll:()=>document.documentElement.scrollWidth,documentElementOffset:()=>document.documentElement.offsetWidth,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().right,document.body.getBoundingClientRect().right),max:()=>Math.max(...bt(Ot)),min:()=>Math.min(...bt(Ot)),rightMostElement:()=>yt(S),scroll:()=>Math.max(Ot.bodyScroll(),Ot.documentElementScroll()),taggedElement:()=>yt(S)},jt=(e,t)=>!(Math.abs(e-t)<=Ue);function kt(e,t){const n=e[t]();return e.enabled()&&void 0!==m?function(e){const t=m(e);if(void 0===t)throw new TypeError("No value returned from onBeforeResize(), expected a numeric value");if(Number.isNaN(t))throw new TypeError(`Invalid value returned from onBeforeResize(): ${t}, expected Number`);return t}(n):n}let Mt=!1;const Tt=F((()=>le(q(4)))),Ct=ne(((e,t,n,o,r)=>{if(performance.now(),oe(e),!0!==Mt)return p||e in M?void(document.hidden||(Mt=!0,requestAnimationFrame((()=>{Mt=!1})),function(e,t,n,o,r){const i=n??kt(Et,ye),a=o??kt(Ot,Je);switch(K&&jt(ge,i)||te&&jt(Ze,a)?O:e){case P:case E:case O:ge=i,Ze=a;case T:It(ge,Ze,e,r);break;case C:case x:case I:ie();break;default:ie(),Y("No change in content size detected")}}(e,0,n,o,r))):(Y("Resizing disabled"),void ee())}));function xt(e){ge=Et[ye](),Ze=Ot[Je](),It(ge,Ze,e)}const It=ne((function(e,t,o,r,i){Te<-1||(oe(o),void 0!==i||(i=He),function(){const a=`${xe}:${e}:${t}:${o}${void 0===r?"":`:${r}`}`;if(Le)try{window.parent.iframeParentListener(s+a)}catch(e){if(1!==Te)throw e;return void Tt()}else De.postMessage(s+a,i);Y(`Sending message to parent page via ${Le?"sameOrigin":"postMessage"}: %c%c${a}`,n,h)}(),ee())})),At=ne((function(e){oe("onMessage");const{freeze:t}=Object,{parse:n}=JSON,o=e=>It(0,0,`${e}Stop`),r={init:function(){if("loading"===document.readyState)return;const t=e.data.slice(13).split(":");De=e.source,d=e.origin,Ke(t),ce=!1,setTimeout((()=>{ve=!1}),128)},reset(){ve||xt("resetPage")},resize(){Ct(k,"Parent window requested size check")},moveToAnchor(){ze.findTarget(a())},inPageLink(){this.moveToAnchor()},pageInfo(){const e=a();Ye?L(Ye,n(e)):o("pageInfo")},parentInfo(){const e=(r=a(),t(n(r)));var r;Xe?L(Xe,e):o("parentInfo")},message(){const e=a();L(Qe,n(e))}},i=()=>e.data.split("]")[1].split(":")[0],a=()=>e.data.slice(e.data.indexOf(":")+1),l=()=>e.data.split(":")[2]in{true:1,false:1};function c(){const t=i();oe(t),t in r?r[t]():"iframeResize"in window||void 0!==window.jQuery&&""in window.jQuery.prototype||l()||ae(`Unexpected message (${e.data})`)}s===`${e.data}`.slice(0,13)&&function(){if(!1!==ce)return l()?(re(i()),oe(P),void r.init()):void 0;c()}()}));function Pt(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}function Nt(e){return At(e),_e}"iframeChildListener"in window?ae("Already setup"):(window.iframeChildListener=e=>setTimeout((()=>At({data:e,sameOrigin:!0}))),N(window,"message",At),N(window,"readystatechange",Pt),Pt());try{top?.document?.getElementById("banner")&&(_e={},window.mockMsgListener=Nt,R(window,"message",At),define([],(()=>Nt)))}catch(e){}}()}();
