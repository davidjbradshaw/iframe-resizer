/*!
 *  @preserve
 *
 *  @module      iframe-resizer/child 6.0.0-beta.0 (iife) 
 *
 *  @license     GPL-3.0 For use with GPL compliant sites (fully published front & backend source code)
 *               Alternatively for commercial use, you can purchase a license from
 *               https://iframe-resizer.com/pricing
 *
 *  @description Keep same and cross domain iFrames sized to their content
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 *
 *  @see         {@link https://iframe-resizer.com}
 *
 *  @copyright  (c) 2013 - 2026, David J. Bradshaw. All rights reserved.
 */


!function(){"use strict";const e="6.0.0-beta.0",t="iframeResizer",n=":",o="init",r="message",i="pageHide",a="pageInfo",s="parentInfo",c="scrollToOffset",l=10,d="data-iframe-size",u="data-iframe-overflowed",f="data-iframe-ignore",m="height",h="width",g="offset",p="offsetSize",y="string",v="number",b="function",w="auto",z="readystatechange",$="bottom",S="right",O="autoResizeEnabled",M=Symbol("sizeChanged"),k="manualResize",E="parentResize",j={[k]:1,[E]:1},C="setOffsetSize",R="resizeObserver",P="overflowObserver",I="mutationObserver",x="visibilityObserver",T="none",A="[iFrameSizer]",N=w,L="scroll",W=new Set(["head","body","meta","base","title","script","link","style","map","area","option","optgroup","template","track","wbr","nobr"]),B="font-weight: normal;",H="font-weight: bold;",q="font-style: italic;",D=B+q,F="default",U=Object.freeze({assert:!0,error:!0,warn:!0}),V={expand:!1,defaultEvent:void 0,event:void 0,label:"AutoConsoleGroup",showTime:!0},Z={profile:0,profileEnd:0,timeStamp:0,trace:0},J=Object.assign(console);const{fromEntries:_,keys:Q}=Object,G=e=>[e,J[e]],Y=e=>t=>[t,function(n){e[t]=n}],X=(e,t)=>_(Q(e).map(t));const K=!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches,ee=K?"color: #A9C7FB;":"color: #135CD2;",te=K?"color: #E3E3E3;":"color: #1F1F1F;";const ne=(e,...t)=>setTimeout(()=>e(...t),0),oe=e=>{let t=!1;return function(){return t?void 0:(t=!0,Reflect.apply(e,this,arguments))}},re=e=>e,ie=e=>Math.round(1e3*e)/1e3,ae=e=>e.charAt(0).toUpperCase()+e.slice(1),se=e=>""!=`${e}`&&void 0!==e,ce=e=>e();const le=(e,t,n)=>{if(typeof e!==t)throw new TypeError(`${n} is not a ${ae(t)}`)},de={br:"\n",rb:"[31;1m",bb:"[34;1m",b:"[1m",i:"[3m",u:"[4m","/":"[m"},ue=Object.keys(de),fe=new RegExp(`<(${ue.join("|")})>`,"gi"),me=(e,t)=>de[t]??"";let he=!0,ge=t;const pe=(ye=function(e={}){const t={},n={},o=[],r={...V,expand:!e.collapsed||V.expanded,...e};let i="";function a(){o.length=0,i=""}function s(){delete r.event,a()}const c=()=>!!o.some(([e])=>e in U)||!!r.expand;function l(){if(0!==o.length){J[c()?"group":"groupCollapsed"](`%c${r.label}%c ${(e=>{const t=e.event||e.defaultEvent;return t?`${t}`:""})(r)} %c${r.showTime?i:""}`,B,H,D);for(const[e,...t]of o)J.assert(e in J,`Unknown console method: ${e}`),e in J&&J[e](...t);J.groupEnd(),s()}else s()}function d(){""===i&&(i=function(){const e=new Date,t=(t,n)=>e[t]().toString().padStart(n,"0");return`@ ${t("getHours",2)}:${t("getMinutes",2)}:${t("getSeconds",2)}.${t("getMilliseconds",3)}`}(),queueMicrotask(()=>queueMicrotask(l)))}function u(e,...t){0===o.length&&d(),o.push([e,...t])}function f(e=F,...n){t[e]?u("log",`${e}: ${performance.now()-t[e]} ms`,...n):u("timeLog",e,...n)}return{...X(r,Y(r)),...X(console,e=>[e,(...t)=>u(e,...t)]),...X(Z,G),assert:function(e,...t){!0!==e&&u("assert",e,...t)},count:function(e=F){n[e]?n[e]+=1:n[e]=1,u("log",`${e}: ${n[e]}`)},countReset:function(e=F){delete n[e]},endAutoGroup:l,errorBoundary:e=>(...t)=>{let n;try{n=e(...t)}catch(e){if(!Error.prototype.isPrototypeOf(e))throw e;u("error",e),l()}return n},event:function(e){d(),r.event=e},purge:a,time:function(e=F){d(),t[e]=performance.now()},timeEnd:function(e=F){f(e),delete t[e]},timeLog:f,touch:d}},ye?.__esModule?ye.default:ye);var ye;const ve=pe({label:`${t}(child)`,expand:!1});var be;const we=(be="log",(...e)=>!he||ve[be](...e));const{assert:ze,endAutoGroup:$e,error:Se,errorBoundary:Oe,event:Me,label:ke,purge:Ee,warn:je}=ve,Ce=(Re=re,e=>Re(typeof e===y?window.chrome?e.replace(fe,me):(e=>e.replaceAll("<br>","\n").replaceAll(/<\/?[^>]+>/gi,""))(e):e));var Re;const Pe=(...e)=>ve.warn(...e.map(Ce)),Ie=(e=>(t,n="renamed to")=>(o,r,i="",a="")=>e(a,`<rb>Deprecated ${t}(${o.replace("()","")})</>\n\nThe <b>${o}</> ${t.toLowerCase()} has been ${n} <b>${r}</>. ${i}Use of the old ${t.toLowerCase()} will be removed in a future version of <i>iframe-resizer</>.`))((e,t)=>Pe(t)),xe=Ie("Method"),Te=Ie("Method","replaced with"),Ae=Ie("Option"),Ne=[],Le=(e,t,n,o)=>{e.removeEventListener(t,n,o)},We=(e,t,n,o=!1)=>{e.addEventListener(t,n,o),Ne.push(()=>Le(e,t,n,o))};var Be={applySelectors:null,firstRun:!0,hasTags:!1,hasOverflow:!1,height:0,isHidden:!1,initLock:!0,inPageLinks:{},origin:void 0,hasOverflowUpdated:!0,overflowedNodeSet:new Set,sameOrigin:!1,taggedElements:[],target:window?.parent,timerActive:!1,totalTime:0,triggerLocked:!1,width:0,win:window,onPageInfo:null,onParentInfo:null};let He=!1;const qe=e=>e.postMessage("[iFrameResizerChild]Ready",window?.iframeResizer?.targetOrigin||"*");function De(){if("loading"===document.readyState||!Be.firstRun||He)return;const{parent:e,top:t}=window;Me("ready"),qe(e),e!==t&&qe(t),He=!0}const Fe="iframeResize",Ue=["min-height","min-width","max-height","max-width"],Ve=new Set,Ze=(e,t)=>window.getComputedStyle(e).getPropertyValue(t),Je=(e,t)=>{return(n=Ze(e,t))&&"0px"!==n&&n!==w&&n!==T;var n};function _e({href:e}){Ve.has(e)||Ve.add(e)}const Qe=(e,t)=>function(e,t){const n=e.style[t];return n?{source:"an inline style attribute",value:n}:null}(e,t)||function(e,t){for(const n of document.styleSheets)try{for(const o of n.cssRules||[])if(o.selectorText&&e.matches(o.selectorText)){const e=o.style[t];if(e)return{source:"STYLE"===n.ownerNode.tagName?"an inline <style> block":`stylesheet (${n.href})`,value:e}}}catch(e){_e(n)}return{source:"cross-origin stylesheet",value:Ze(e,t)}}(e,t),Ge=(e,t)=>{const{source:n,value:o}=Qe(e,t),r=(e=>e.tagName?e.tagName.toLowerCase():"unknown")(e);Pe(`The <b>${t}</> CSS property is set to <b>${o}</> on the <b><${r}></> element via ${n}. This may cause issues with the correct operation of <i>iframe-resizer</>.\n\nIf you wish to restrict the size of the iframe, then you should set this property on the iframe element itself, not the content inside it.`)};function Ye(){for(const e of[document.documentElement,document.body])for(const t of Ue)Je(e,t)&&Ge(e,t)}var Xe={autoResize:!0,bodyBackground:"",bodyMargin:0,bodyMarginStr:"",bodyPadding:"",calculateHeight:!0,calculateWidth:!1,heightCalcMode:N,ignoreSelector:"",inPageLinks:!1,logging:!1,logExpand:!1,mode:0,mouseEvents:!1,offsetHeight:0,offsetWidth:0,sizeSelector:"",targetOrigin:"*",tolerance:0,widthCalcMode:L,onBeforeResize:void 0,onMessage:()=>{je("onMessage function not defined")},onReady:()=>{}};const Ke=`* ${Array.from(W).map(e=>`:not(${e})`).join("")}`,et=e=>e.querySelectorAll(Ke),tt=e=>[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll(),e.boundingClientRect()],nt=[ee,te,ee],ot={height:0,width:0},rt={height:0,width:0};function it(e,t,n){return rt[e]=t,ot[e]=n,t}function at(e){const{hasOverflow:t,hasTags:n,triggerLocked:o}=Be,r=e.label,i=r===m,a=e.boundingClientRect(),s=Math.ceil(a),c=Math.floor(a),l=(e=>e.documentElementScroll()+Math.max(0,e.getOffset()))(e),d=`HTML: %c${a}px %cPage: %c${l}px`;let u;switch(!0){case!e.enabled():return Math.max(l,1);case n:we("Found element with data-iframe-size attribute"),u=e.taggedElement();break;case!t&&Be.firstRun&&0===rt[r]&&0===ot[r]:we(`Initial page size values: ${d}`,...nt),u=it(r,a,l);break;case o&&a===rt[r]&&l===ot[r]:we(`Size unchanged: ${d}`,...nt),u=Math.max(a,l);break;case 0===a&&0!==l:we(`Page is hidden: ${d}`,...nt),u=l;break;case!t&&a!==rt[r]&&l<=ot[r]:we(`New <html> size: ${d} `,...nt),we(`Previous <html> size: %c${rt[r]}px`,ee),u=it(r,a,l);break;case!i:u=e.taggedElement();break;case!t&&a<rt[r]:we(`<html> size decreased: ${d}`,...nt),u=it(r,a,l);break;case l===c||l===s:we(`<html> size equals page size: ${d}`,...nt),u=it(r,a,l);break;case a>l:we(`Page size < <html> size: ${d}`,...nt),u=it(r,a,l);break;case t:we("Found elements possibly overflowing <html> "),u=e.taggedElement();break;default:we(`Using <html> size: ${d}`,...nt),u=it(r,a,l)}return we(`Content ${r}: %c${u}px`,ee),u+=function(e){const t=e.getOffset();return 0!==t&&we(`Page offsetSize: %c${t}px`,ee),t}(e),Math.max(u,1)}const st="--ifr-start",ct="--ifr-end",lt="--ifr-measure",dt=[];let ut,ft={},mt=0;function ht(){try{performance.clearMarks(st),performance.clearMarks(ct),performance.clearMeasures(lt)}catch{}}function gt(e){e.getEntries().forEach(e=>{if(e.name===ct)try{const{duration:t}=performance.measure(lt,st,ct);ft=e.detail,dt.push(t),dt.length>100&&dt.shift()}catch{}})}function pt(){we("Attached%c PerformanceObserver%c to page",ee,te);const e=new PerformanceObserver(gt);return e.observe({entryTypes:["mark"]}),ut=setInterval(()=>{if(dt.length<10)return;if(ft.hasTags&&ft.len<25)return;dt.sort();const e=Math.min(dt.reduce((e,t)=>e+t,0)/dt.length,dt[Math.floor(dt.length/2)]),t=ie(e);t>mt&&(mt=t,Me("performanceObserver")),ht(),e<=4||(clearInterval(ut),Pe(`<rb>Performance Warning</>\n\nCalculating the page size is taking an excessive amount of time (${ie(e)}ms).\n\nTo improve performance add the <b>data-iframe-size</> attribute to the ${ft.Side.toLowerCase()} most element on the page. For more details see: <u>https://iframe-resizer.com/perf</>.`))},5e3),{disconnect:()=>{ht(),clearInterval(ut),e.disconnect(),we("Detached%c PerformanceObserver",ee)}}}function yt(e){performance.mark(st);const t=ae(e),{logging:n}=Xe,{hasTags:o}=Be,r=function(){const{hasOverflow:e,hasTags:t,overflowedNodeSet:n,taggedElements:o}=Be;return t?o:e?Array.from(n):et(document.documentElement)}(),{maxEl:i,maxVal:a}=function(e,t){const n=`margin-${t}`;let o,r=document.documentElement,i=Be.hasTags?1:document.documentElement.getBoundingClientRect().bottom;for(const a of e)o=a.getBoundingClientRect()[t]+parseFloat(getComputedStyle(a).getPropertyValue(n)),o>i&&(i=o,r=a);return{maxEl:r,maxVal:i}}(r,e);return we(`${t} position calculated from:`,i),we(`Checked %c${r.length}%c elements`,ee,te),performance.mark(ct,{detail:{hasTags:o,len:r.length,logging:n,Side:t}}),a}const vt={label:m,enabled:()=>Xe.calculateHeight,getOffset:()=>Xe.offsetHeight,auto:()=>at(vt),bodyOffset:()=>{const{body:e}=document,t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,l)+parseInt(t.marginBottom,l)},bodyScroll:()=>document.body.scrollHeight,offset:()=>vt.bodyOffset(),documentElementOffset:()=>document.documentElement.offsetHeight,documentElementScroll:()=>document.documentElement.scrollHeight,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().bottom,document.body.getBoundingClientRect().bottom),max:()=>Math.max(...tt(vt)),min:()=>Math.min(...tt(vt)),grow:()=>vt.max(),lowestElement:()=>yt($),taggedElement:()=>yt($),custom:()=>(je("Custom height calculation function not defined"),vt.auto())},bt={label:h,enabled:()=>Xe.calculateWidth,getOffset:()=>Xe.offsetWidth,auto:()=>at(bt),bodyScroll:()=>document.body.scrollWidth,bodyOffset:()=>document.body.offsetWidth,documentElementScroll:()=>document.documentElement.scrollWidth,documentElementOffset:()=>document.documentElement.offsetWidth,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().right,document.body.getBoundingClientRect().right),max:()=>Math.max(...tt(bt)),min:()=>Math.min(...tt(bt)),rightMostElement:()=>yt(S),scroll:()=>Math.max(bt.bodyScroll(),bt.documentElementScroll()),taggedElement:()=>yt(S),custom:()=>(je("Custom width calculation function not defined"),bt.auto())},wt={bodyOffset:1,bodyScroll:1,offset:1,documentElementOffset:1,documentElementScroll:1,boundingClientRect:1,max:1,min:1,grow:1,lowestElement:1};function zt(e,t){const n=Xe.version?"remove this option.":(e=>`set this option to <b>'auto'</> when using an older version of <i>iframe-resizer</> on the parent page. This can be done on the child page by adding the following code:\n\nwindow.iframeResizer = {\nlicense: 'xxxx',\n${e}CalculationMethod: '${w}',\n}\n`)(e);Pe(`<rb>Deprecated ${e}CalculationMethod (${t})</>\n\nThis version of <i>iframe-resizer</> can auto detect the most suitable ${e} calculation method. It is recommended that you ${n}\n`)}function $t(e,t,n){const{label:o}=n;return t!==e&&(e in n||(je(`${e} is not a valid option for ${o}CalculationMethod.`),e=t),e in wt&&zt(o,e)),e}function St(){Xe.heightCalcMode=$t(Xe.heightCalcMode,N,vt)}function Ot(){Xe.widthCalcMode=$t(Xe.widthCalcMode,L,bt)}function Mt(){try{Be.sameOrigin=1===Xe.mode||"iframeParentListener"in window.parent}catch(e){}}function kt(){let e=!1;const t=t=>document.querySelectorAll(`[${t}]`).forEach(n=>{n.toggleAttribute(d,!0),n.removeAttribute(t),e=!0});t("data-iframe-height"),t("data-iframe-width"),e&&Pe("<rb>Deprecated Attributes</>\n\nThe <b>data-iframe-height</> and <b>data-iframe-width</> attributes have been deprecated and replaced with the single <b>data-iframe-size</> attribute. Use of the old attributes will be removed in a future version of <i>iframe-resizer</>.")}let Et=0;function jt(){const e=document.querySelectorAll(`*[${f}]`),t=e.length>0;return t&&e.length!==Et&&(!function(e){const t=1===e.length?"":"s";je(`%c[${f}]%c found on %c${e.length}%c element${t}`,H,B,H,B)}(e),Et=e.length),t}const Ct=e=>{if(!e)return"";let t=-559038744,n=1103547984;for(let o,r=0;r<e.length;r++)o=e.codePointAt(r),t=Math.imul(t^o,2246822519),n=Math.imul(n^o,3266489917);return t^=Math.imul(t^n>>>15,1935289751),n^=Math.imul(n^t>>>15,3405138345),t^=n>>>16,n^=t>>>16,(2097152*(n>>>0)+(t>>>11)).toString(36)},Rt=e=>e.replace(/[A-Za-z]/g,e=>String.fromCodePoint((e<="Z"?90:122)>=(e=e.codePointAt(0)+19)?e:e-26)),Pt=["spjluzl","rlf","clyzpvu","rlf2"],It=["<yi>Puchspk Spjluzl Rlf</><iy><iy>","<yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.","<iy><yi>Zvsv spjluzl kvlz uva zbwwvya jyvzz-kvthpu</><iy><iy>Av bzl <p>pmyhtl-ylzpgly</> dpao jyvzz kvthpu pmyhtlz fvb ullk lpaoly aol Wyvmlzzpvuhs vy Ibzpulzz spjluzlz. Mvy klahpsz vu bwnyhkl wypjpun wslhzl jvuahja pumv@pmyhtl-ylzpgly.jvt.","Pu whnl spurpun ylxbpylz h Wyvmlzzpvuhs vy Ibzpulzz spjluzl. Wslhzl zll <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</> mvy tvyl klahpsz."],xt=["NWSc3","zvsv","wyv","ibzpulzz","vlt"],Tt=Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5","2b5sdlfhbev","zo4ui3arjo","oclbb4thgl"].map((e,t)=>[e,Math.max(0,t-1)])),At=e=>Rt(It[e]),Nt=e=>Rt(Pt[e]);var Lt=e=>{const t=e[Rt(Pt[0])]||e[Rt(Pt[1])]||e[Rt(Pt[2])]||e[Rt(Pt[3])];if(!t)return-1;const n=t.split("-");let o=function(e=""){let t=-2;const n=Ct(Rt(e));return n in Tt&&(t=Tt[n]),t>4?t-4:t}(n[0]);return 0===o||(e=>e[2]===Ct(e[0]+e[1]))(n)||(o=-2),o};function Wt({key:t,key2:n,mode:o,version:r}){const i=o,a=Lt({key:t}),s=Lt({key2:n});if(Xe.mode=o=Math.max(a,s),o<0){if(o=Math.min(a,s),Ee(),Pe(`${At(o+2)}${At(2)}`),se(r))throw Be.firstRun=!1,At(o+2).replace(/<\/?[a-z][^>]*>|<\/>/gi,"")}else(!se(r)||i>-1&&o>i)&&(sessionStorage.getItem("ifr")!==e&&function(e,t){console.info(`${ge} %ciframe-resizer ${e}`,he||t<1?"font-weight: bold;":B)}(`v${e} (${(e=>Rt(xt[e]))(o)})`,o),o<2&&Pe(At(3)),sessionStorage.setItem("ifr",e))}function Bt(){"BackCompat"===document.compatMode&&Pe("<rb>Quirks Mode Detected</>\n\nThis iframe is running in the browser's legacy <b>Quirks Mode</>, this may cause issues with the correct operation of <i>iframe-resizer</>. It is recommended that you switch to the modern <b>Standards Mode</>.\n\nFor more information see <u>https://iframe-resizer.com/quirks-mode</>.\n")}let Ht=!1;function qt(e){"complete"===document.readyState?ne(e):Ht||We(document,z,()=>qt(e)),Ht=!0}var Dt=()=>{we(`Set targetOrigin for parent: %c${Xe.targetOrigin}`,ee),Xe.autoResize};function Ft(){Be.taggedElements=document.querySelectorAll(`[${d}]`),Be.hasTags=Be.taggedElements.length>0}function Ut({version:t}){t&&""!==t&&"false"!==t?t!==e&&Pe((t=>`<b>Version mismatch</>\n\nThe parent and child pages are running different versions of <i>iframe resizer</>.\n\nParent page: ${t} - Child page: ${e}.\n`)(t)):Pe("<rb>Legacy version detected on parent page</>\n\nDetected legacy version of parent page script. It is recommended to update the parent page to use <b>@iframe-resizer/parent</>.\n\nSee <u>https://iframe-resizer.com/setup/</> for more details.\n")}const Vt=oe(()=>Pe(At(4)));function Zt(e,t){const{mode:n}=Xe,{sameOrigin:o,target:r}=Be;if(o)try{window.parent.iframeParentListener(A+e)}catch(e){if(1!==n)throw e;return Vt(),!1}else r.postMessage(A+e,function(e){return void 0===e&&(e=Xe.targetOrigin),e}(t));return!0}function Jt(e,t,n,o,r){const{parentId:i}=Xe,{sameOrigin:a}=Be,s=`${i}:${`${e}:${t}`}:${n}${void 0===o?"":`:${o}`}`;if(Xe.mode<-1)return;Zt(s,r)&&(Be.timerActive&&ie(performance.now()-Be.totalTime),we(`Sending message to parent page via ${a?"sameOrigin":"postMessage"}: %c%c${s}`,q,ee))}var _t=Oe((e,t,n,o,r)=>{Me(n),Jt(e,t,n,o,r),$e()});const Qt=e=>_t(0,0,e.type,`${e.screenY}:${e.screenX}`);function Gt(e,t){We(window.document,e,Qt)}function Yt({persisted:e}){e||_t(0,0,"beforeUnload"),Me(i),we("Page persisted:",e),e||Ne.forEach(ce)}var Xt=()=>We(window,i.toLowerCase(),Yt),Kt=(e,t)=>!(Math.abs(e-t)<=Xe.tolerance);const en=e=>t=>{const n=e[t]();return e.enabled()&&void 0!==Xe.onBeforeResize?function(e){const t=Xe.onBeforeResize(e);if(void 0===t)throw new TypeError("No value returned from onBeforeResize(), expected a numeric value");if(Number.isNaN(t))throw new TypeError(`Invalid value returned from onBeforeResize(): ${t}, expected Number`);if(t<1)throw new RangeError(`Out of range value returned from onBeforeResize(): ${t}, must be at least 1`);return t}(n):n},tn=en(vt),nn=en(bt);function on(e,t,n,r){const{heightCalcMode:i,widthCalcMode:a}=Xe,s=n??tn(i),c=r??nn(a),l=function(e,t){const{calculateHeight:n,calculateWidth:o}=Xe,{height:r,width:i}=Be;return n&&Kt(r,e)||o&&Kt(i,t)}(s,c)?M:e;switch(l){case o:case O:case M:case k:case E:Be.height=s,Be.width=c;case C:return Be;case P:case I:case R:case x:Ee();break;default:Ee(),we("No change in content size detected")}return null}let rn,an=!1,sn=!1;var cn=Oe(function(e,t,n,o,r){const{autoResize:i}=Xe,{isHidden:a}=Be;switch(Me(e),!0){case!0===a:if(!0===sn)break;sn=!0,an=!1,cancelAnimationFrame(rn),rn=null;break;case!0===an&&e!==P&&!(e in j):Ee();break;case!i&&!(e in j):we("Resizing disabled");break;default:{sn=!1,an=!0,Be.totalTime=performance.now(),Be.timerActive=!0;const t=on(e,0,n,o);t&&Jt(t.height,t.width,e,r),rn||(rn=requestAnimationFrame(()=>{an=!1,rn=null,Me("requestAnimationFrame")})),Be.timerActive=!1}}$e()});function ln({eventType:e,eventName:t}){We(window,t,()=>cn(t,e),{passive:!0})}function dn(){ln({eventType:"After Print",eventName:"afterprint"}),ln({eventType:"Before Print",eventName:"beforeprint"})}function un(e){const{heightCalcMode:t,widthCalcMode:n}=Xe,o=vt[t](),r=bt[n]();_t(o,r,e)}function fn(e){const t=Xe.heightCalcMode;Xe.heightCalcMode=N,Be.triggerLocked||(Be.triggerLocked=!0,requestAnimationFrame(()=>{Be.triggerLocked=!1})),un("reset"),Xe.heightCalcMode=t}const mn=`Auto Resize can not be changed when <b>direction</> is set to '${T}'.`;function hn(e){le(e,"boolean","parentIframe.autoResize(enable) enable");const{autoResize:t,calculateHeight:n,calculateWidth:o}=Xe;return!1===o&&!1===n?(Me(O),Pe(mn),!1):(!0===e&&!1===t?(Xe.autoResize=!0,queueMicrotask(()=>cn(O,"Auto Resize enabled"))):!1===e&&!0===t&&(Xe.autoResize=!1),_t(0,0,"autoResize",JSON.stringify(Xe.autoResize)),Xe.autoResize)}function gn(e){Xe.heightCalcMode=e,St()}function pn(e){Xe.widthCalcMode=e,Ot()}function yn(e){le(e,y,"parentIframe.moveToAnchor(anchor) anchor"),Be.inPageLinks.findTarget(e)}function vn(e){le(e,v,"parentIframe.setOffsetSize(offset) offset"),Xe.offsetHeight=e,Xe.offsetWidth=e,cn(C,`parentIframe.setOffsetSize(${e})`)}function bn(){return Me("getOrigin"),xe("getOrigin()","getParentOrigin()"),Be.origin}const wn=()=>Be.origin;function zn(e){le(e,y,"parentIframe.setTargetOrigin(targetOrigin) targetOrigin"),Xe.targetOrigin=e}function $n(e){if(typeof e===b)return Be.onPageInfo=e,_t(0,0,a),void Te("getPageInfo()","getParentProps()","See <u>https://iframe-resizer.com/upgrade</> for details. ");Be.onPageInfo=null,_t(0,0,"pageInfoStop")}function Sn(e){return le(e,b,"parentIframe.getParentProps(callback) callback"),Be.onParentInfo=e,_t(0,0,s),()=>{Be.onParentInfo=null,_t(0,0,"parentInfoStop")}}function On(e){xe("getParentProperties()","getParentProps()"),Sn(e)}function Mn(e){const t=new Set;return new Proxy(e,{get(e,n){t.has(n)||(Pe((e=>`<rb>Deprecated API object name</>\nThe <b>window.parentIFrame</> object has been renamed to <b>window.parentIframe</>. Please update your code as the old object will be removed in a future version.\n\nCalled property: '${String(e)}'\n`)(n)),t.add(n));const o=e[n],r=Object.getOwnPropertyDescriptor(e,n);return(!r||r.configurable||r.writable)&&"function"==typeof o?o.bind(e):o}})}function kn(e,t){void 0!==e&&le(e,v,"parentIframe.resize(customHeight, customWidth) customHeight"),void 0!==t&&le(t,v,"parentIframe.resize(customHeight, customWidth) customWidth");cn(k,`parentIframe.resize(${`${e||""}${t?`,${t}`:""}`})`,e,t)}const En=e=>(t,n)=>{le(t,v,`parentIframe.${e}(x, y) x`),le(n,v,`parentIframe.${e}(x, y) y`),_t(n,t,e)},jn=En("scrollBy"),Cn=En("scrollTo"),Rn=En(c);function Pn(e,t){t&&le(t,y,"parentIframe.sendMessage(msg, targetOrigin) targetOrigin"),_t(0,0,r,JSON.stringify(e),t)}const In=()=>_t(0,0,"close"),xn=()=>Xe.parentId,Tn=()=>fn(),An=()=>je("parentIframe.size() has been renamed parentIframe.resize()");const Nn=e=>e=>{e.size},Ln=((e="")=>t=>n=>{n.size>0&&Se(`${t}Observer ${e}:`,...Array.from(n).flatMap(e=>["\n",e]))})("already attached"),Wn=e=>e=>{e.size},Bn=(e,t=!0)=>n=>{n>0&&we(`${t?"At":"De"}tached %c${e}Observer%c ${t?"to":"from"} %c${n}%c element${1===n?"":"s"}`,ee,B,ee,B)},Hn=(e,t,n,o)=>{const r=Wn(e);return e=>{const i=new Set;let a=0;for(const o of e)n.has(o)&&(t.unobserve(o),n.delete(o),i.add(o),a+=1);r(i),o(a),i.clear()}},qn=new Set,Dn=new Set,Fn=new Set,Un=[],Vn={attributes:!0,attributeFilter:[f,d],attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0};let Zn,Jn=1,_n=!1,Qn=0;const Gn=e=>{e.size},Yn=e=>{e.size},Xn=e=>{e.size},Kn=e=>e.nodeType!==Node.ELEMENT_NODE||W.has(e.tagName.toLowerCase());function eo(e){const t=e.addedNodes;for(const e of t)Kn(e)||qn.add(e)}function to(e){const t=e.removedNodes;for(const e of t)Kn(e)||(qn.has(e)?(qn.delete(e),Fn.add(e)):Dn.add(e))}const no=e=>{we("Mutations:",e);for(const t of e)eo(t),to(t);Gn(qn),Yn(Dn),Xn(Fn),Fn.clear()};const oo=e=>()=>{const t=performance.now(),n=t-Qn,o=16*Jn+++2;if(n>o&&n<200)return Me("mutationThrottled"),we("Update delayed due to heavy workload on the callStack"),we(`EventLoop busy time: %c${ie(n)}ms %c> Max wait: %c${o-2}ms`,ee,te,ee),setTimeout(Zn,16*Jn),void(Qn=t);Jn=1,Un.forEach(no),Un.length=0,_n=!1,Dn.size,qn.size,e({addedNodes:qn,removedNodes:Dn}),qn.clear(),Dn.clear()};function ro(e){Un.push(e),_n||(Qn=performance.now(),_n=!0,requestAnimationFrame(Zn))}function io(e){const t=new window.MutationObserver(ro),n=document.body||document.documentElement;return Zn=oo(e),t.observe(n,Vn),we("Attached%c MutationObserver%c to body",ee,te),{...t,disconnect:()=>{qn.clear(),Dn.clear(),Un.length=0,t.disconnect(),we("Detached%c MutationObserver",ee)}}}function ao(e){const t=new IntersectionObserver(t=>e(t.at(-1).isIntersecting),{threshold:0}),n=document.documentElement;return t.observe(n),we("Attached%c VisibilityObserver%c to page",ee,te),{disconnect:()=>{t.disconnect(),we("Detached%c VisibilityObserver",ee)}}}let so=new Set;function co(){const e=function(e){const t=new Set,n=new Set;for(const o of e)o.closest(`[${f}]`)?n.add(o):t.add(o);return n.size>0&&queueMicrotask(()=>{Me("overflowIgnored"),we("Ignoring elements with [data-iframe-ignore] > *:\n",n),$e()}),t}(document.querySelectorAll(`[${u}]`));let t=!1;return typeof Set.prototype.symmetricDifference===b&&(t=e.symmetricDifference(so).size>0),so=e,Be.overflowedNodeSet=e,Be.hasOverflow=e.size>0,{hasOverflowUpdated:t,overflowedNodeSet:e}}var lo={};const uo=e=>{const t=new Set;for(const n of e){t.add(n);for(const e of et(n))t.add(e)}return we("Inspecting:\n",t),t};function fo({addedNodes:e,removedNodes:t}){Me("contentMutated"),Be.applySelectors(),Ft(),co(),$e(),(e=>{if(0===e.size)return;Me("removeObservers");const t=uo(e);lo.overflow.detachObservers(t),lo.resize.detachObservers(t),$e()})(t),(e=>{if(0===e.size)return;Me("addObservers");const t=uo(e);lo.overflow.attachObservers(t),lo.resize.attachObserverToNonStaticElements(t),$e()})(e)}function mo(e){fo(e),cn(I,"Mutation Observed")}const ho="Overflow",go=Bn(ho),po=Bn(ho,!1),yo=Nn(ho),vo=Ln(ho),bo=e=>e.hidden||null===e.offsetParent||e.style.display===T;function wo(){const{hasOverflow:e}=Be,{hasOverflowUpdated:t,overflowedNodeSet:n}=co();switch(!0){case!t:return;case n.size>1:we("Overflowed Elements:",n);break;case e:break;default:we("No overflow detected")}cn(P,"Overflow updated")}function zo(e){const t={root:document.documentElement,side:Xe.calculateHeight?$:S};return lo.overflow=((e,t)=>{const n=t.side,o={root:t.root,rootMargin:"0px",threshold:1},r=window?.requestAnimationFrame||re,i=(t=!1)=>e(t),a=(e,t)=>0===e||e>t[n],s=(e,t)=>e.toggleAttribute(u,t),c=new IntersectionObserver(function(e){for(const t of e){const{boundingClientRect:e,rootBounds:o,target:r}=t;if(!o)continue;const i=e[n],c=a(i,o)&&!bo(r);s(r,c)}r(i)},o),l=new WeakSet;return{attachObservers:function(e){const t=new Set,n=new Set;let o=0;for(const r of e)r.nodeType===Node.ELEMENT_NODE&&(l.has(r)?t.add(r):(c.observe(r),l.add(r),n.add(r),o+=1));vo(t),yo(n),go(o),n.clear(),t.clear()},detachObservers:Hn(ho,c,l,po),disconnect:()=>{c.disconnect(),we("Detached%c OverflowObserver",ee)}}})(wo,t),lo.overflow.attachObservers(e),lo.overflow}const $o="Resize",So=Bn($o),Oo=Bn($o,!1),Mo=Nn($o),ko=Ln($o),Eo=new WeakSet,jo=new Set,Co=new Set;let Ro;function Po(e){let t=0;for(const n of e){if(n.nodeType!==Node.ELEMENT_NODE)continue;const e=getComputedStyle(n)?.position;""!==e&&"static"!==e&&(Eo.has(n)?jo.add(n):(Ro.observe(n),Eo.add(n),Co.add(n),t+=1))}ko(jo),Mo(Co),So(t),Co.clear(),jo.clear()}function Io(e){if(!Array.isArray(e)||0===e.length)return;const t=e[0].target;cn(R,`Element resized <${function(e){switch(!0){case!se(e):return"";case se(e.id):return`${e.nodeName}#${e.id}`;case se(e.name):return`${e.nodeName} (${e.name}`;case se(e.className):return`${e.nodeName}.${e.className}`;default:return e.nodeName}}(t)}>`)}function xo(e){return lo.resize=(Ro=new ResizeObserver(Io),Ro.observe(document.body),Eo.add(document.body),we("Attached%c ResizeObserver%c to body",ee,te),{attachObserverToNonStaticElements:Po,detachObservers:Hn($o,Ro,Eo,Oo),disconnect:()=>{Ro.disconnect(),we("Detached%c ResizeObserver",ee)}}),lo.resize.attachObserverToNonStaticElements(e),lo.resize}function To(e){Be.isHidden=!e,cn(x,"Visibility changed")}function Ao(){const e=et(document.documentElement);!function(e){Ne.push(...e.map(e=>e.disconnect))}([io(mo),zo(e),pt(),xo(e),ao(To)])}const No=(e,t,n)=>{if(""!==n)for(const e of document.querySelectorAll(n))e.toggleAttribute(t,!0)};function Lo(){const e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.append(e)}function Wo(e,t){void 0!==t&&""!==t&&"null"!==t&&(document.body.style.setProperty(e,t),we(`Set body ${e}: %c${t}`,ee))}function Bo({bodyMarginStr:e,bodyMargin:t}){var n,o;void 0===e&&(e=`${t}px`),Wo("margin",(n="margin",(o=e).includes("-")&&(je(`Negative CSS value ignored for ${n}`),o=""),o))}function Ho(e){const t=e.getBoundingClientRect(),n={x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop};return{x:parseInt(t.left,l)+parseInt(n.x,l),y:parseInt(t.top,l)+parseInt(n.y,l)}}function qo(e){const t=e.split("#")[1]||e,n=decodeURIComponent(t),o=document.getElementById(n)||document.getElementsByName(n)[0];void 0===o?_t(0,0,"inPageLink",`#${t}`):function(e,t){const n=Ho(t);_t(n.y,n.x,c)}(0,o)}function Do(){const{hash:e,href:t}=window.location;""!==e&&"#"!==e&&qo(t)}function Fo(){!function(){for(const e of document.querySelectorAll('a[href^="#"]'))"#"!==e.getAttribute("href")&&We(e,"click",t=>{t.preventDefault(),qo(e.getAttribute("href"))})}(),We(window,"hashchange",Do),setTimeout(Do,128),Be.inPageLinks={findTarget:qo}}function Uo(){const e=e=>e.style.setProperty(m,w,"important");e(document.documentElement),e(document.body)}function Vo(e,t){return typeof e!==b?e:(Pe((e=>`<rb>Deprecated Option(${e}CalculationMethod)</>\n\nThe use of <b>${e}CalculationMethod</> as a function is deprecated and will be removed in a future version of <i>iframe-resizer</>. Please use the new <b>onBeforeResize</> event handler instead.\n\nSee <u>https://iframe-resizer.com/api/child</> for more details.\n`)(t)),t===m?vt.custom=e:bt.custom=e,"custom")}const Zo=e=>(t,n)=>{if(n in t){if(typeof t[n]===e)return t[n];throw new TypeError(`${n} is not a ${e}.`)}},Jo=Zo(b),_o=Zo(v),Qo=Zo(y);function Go(e){const{offsetHeight:t,offsetWidth:n}=function(e){const{calculateHeight:t,calculateWidth:n}=Xe;let o,r;return typeof e?.offset===v&&(Ae(g,p),t&&(o=_o(e,g)),n&&(r=_o(e,g))),typeof e?.offsetSize===v&&(t&&(o=_o(e,p)),n&&(r=_o(e,p))),{offsetHeight:o,offsetWidth:r}}(e);return{offsetHeight:t,offsetWidth:n,ignoreSelector:Qo(e,"ignoreSelector"),key2:Qo(e,Nt(0)),sizeSelector:Qo(e,"sizeSelector"),targetOrigin:Qo(e,"targetOrigin"),heightCalcMode:Vo(e?.heightCalculationMethod,m),widthCalcMode:Vo(e?.widthCalculationMethod,h),onBeforeResize:Jo(e,"onBeforeResize"),onMessage:Jo(e,"onMessage"),onReady:Jo(e,"onReady")}}function Yo(){const{mode:e}=Xe;if(1===e)return{};const t=window.iframeResizer||window.iFrameResizer;return null===(n=t)||"object"!=typeof n||Array.isArray(n)?{}:Go(t);var n}const Xo=e=>t=>void 0===t?void 0:e(t),Ko=Xo(e=>"true"===e),er=Xo(Number);function tr(e){for(const[t,n]of Object.entries(e))void 0!==n&&(Xe[t]=n)}function nr({logExpand:e,logging:n,parentId:o}){var r;ge=(r={id:o,enabled:n,expand:e}).id||t,ve.label(`${ge}`),ve.expand(r.expand),he=r.enabled,Me("initReceived")}function or({bodyBackground:t,bodyPadding:n,inPageLinks:r,onReady:i}){const a=(({calculateWidth:e,calculateHeight:t})=>e===t)(Xe),s=[()=>Ut(Xe),()=>Wt(Xe),jt,Mt,St,Ot,kt,Bt,Ft,Dt,a?re:Ye,()=>Bo(Xe),()=>Wo("background",t),()=>Wo("padding",n),a?re:Uo,Lo,Be.applySelectors,Ao,()=>function(e){const{mode:t}=Xe;e&&(1===t?Pe(At(5)):Fo())}(r),dn,()=>function({mouseEvents:e}){!0===e&&(Gt("mouseenter"),Gt("mouseleave"))}(Xe),Xt,()=>function(){const{win:e}=Be;1!==Xe.mode&&(e.parentIframe=Object.freeze({autoResize:hn,close:In,getId:xn,getOrigin:bn,getParentOrigin:wn,getPageInfo:$n,getParentProps:Sn,getParentProperties:On,moveToAnchor:yn,reset:Tn,setOffsetSize:vn,scrollBy:jn,scrollTo:Cn,scrollToOffset:Rn,sendMessage:Pn,setHeightCalculationMethod:gn,setWidthCalculationMethod:pn,setTargetOrigin:zn,resize:kn,size:An}),e.parentIFrame=Mn(e.parentIframe))}()];!function(e){const{mode:t}=Xe;e.forEach(e=>{try{e()}catch(e){if(t<0)throw e;Pe("<rb>Error in setup function</>\n<i>iframe-resizer</> detected an error during setup.\n\nPlease report the following error message at <u>https://github.com/davidjbradshaw/iframe-resizer/issues</>"),Se(e)}})}(s),qt(oe(i)),$e(),cn(o,"Init message from host page",void 0,void 0,`${e}:${Xe.mode}`),function(){const{title:e}=document;e&&""!==e&&_t(0,0,"title",e)}()}function rr(e){Be.firstRun&&(tr((e=>({parentId:e[0],bodyMargin:er(e[1]),calculateWidth:Ko(e[2]),logging:Ko(e[3]),autoResize:Ko(e[6]),bodyMarginStr:e[7],heightCalcMode:e[8],bodyBackground:e[9],bodyPadding:e[10],tolerance:er(e[11]),inPageLinks:Ko(e[12]),widthCalcMode:e[14],mouseEvents:Ko(e[15]),offsetHeight:er(e[16]),offsetWidth:er(e[17]),calculateHeight:Ko(e[18]),key:e[19],version:e[20],mode:er(e[21]),logExpand:Ko(e[23])}))(e)),nr(Xe),tr(Yo()),Be.applySelectors=function({sizeSelector:e,ignoreSelector:t}){return()=>{No(0,d,e),No(0,f,t)}}(Xe),or(Xe))}const{freeze:ir}=Object,{parse:ar}=JSON,sr=e=>_t(0,0,`${e}Stop`),cr=e=>e.data.slice(e.data.indexOf(n)+1),lr=e=>(e=>e.data.split(n)[2]in{true:1,false:1})(e)?o:e.data.split("]")[1].split(n)[0];const dr=e=>Be.inPageLinks.findTarget(cr(e));var ur={init:function(e){if("loading"===document.readyState)return;const t=e.data.slice(13).split(n);Be.target=e.source,Be.origin=e.origin,rr(t),Be.firstRun=!1,setTimeout(()=>{Be.initLock=!1},128)},reset:function(){Be.initLock||un("resetPage")},resize:function(){cn(E,"Parent window requested size check")},moveToAnchor:dr,inPageLink:dr,pageInfo:function(e){const{onPageInfo:t}=Be,n=cr(e);t?ne(t,ar(n)):sr(a)},parentInfo:function(e){const{onParentInfo:t}=Be,n=(o=cr(e),ir(ar(o)));var o;t?ne(t,n):sr(s)},message:function(e){const t=cr(e);ne(Xe.onMessage,ar(t))}};function fr(e){const{firstRun:t}=Be,n=lr(e);switch(Me(n),!0){case n in ur:ur[n](e);break;case t&&(Fe in window||void 0!==window.jQuery&&Fe in window.jQuery.prototype):je(`Ignored message of type "${n}". Received before initialization.`);break;default:je(`Unexpected message (${e.data}), this is likely due to a newer version of iframe-resizer running on the parent page.`)}}var mr=Oe(e=>{(e=>A===`${e.data}`.slice(0,13))(e)&&fr(e)});"undefined"!=typeof window&&function(){if("iframeChildListener"in window)je("Already setup");else{window.iframeChildListener=e=>setTimeout(()=>mr({data:e,sameOrigin:!0})),Me("listen"),We(window,r,mr),We(document,z,De),De();try{top?.document?.getElementById("banner")&&(Be.win={},window.mockMsgListener=e,Le(window,r,mr),"function"==typeof window.define&&window.define([],()=>e))}catch(e){}}function e(e){return mr(e),Be.win}}()}();
