/*!
 *  @preserve
 *  
 *  @module      iframe-resizer/child 5.4.4 (iife) 
 *
 *  @license     GPL-3.0 for non-commercial use only.
 *               For commercial use, you must purchase a license from
 *               https://iframe-resizer.com/pricing
 * 
 *  @description Keep same and cross domain iFrames sized to their content 
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 * 
 *  @see         {@link https://iframe-resizer.com}
 * 
 *  @copyright  (c) 2013 - 2025, David J. Bradshaw. All rights reserved.
 */


!function(){"use strict";const e="font-weight: normal;",t="font-weight: bold;",n="font-style: italic;",o=e+n,r="default",i=Object.freeze({assert:!0,error:!0,warn:!0}),a={expand:!0,defaultEvent:void 0,event:void 0,label:"AutoConsoleGroup",showTime:!0},l={profile:0,profileEnd:0,timeStamp:0,trace:0};const{fromEntries:s,keys:c}=Object,u=e=>[e,console[e]],d=e=>t=>[t,function(n){e[t]=n}],m=(e,t)=>s(c(e).map(t));const f=!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches,p=f?"color: #A9C7FB;":"color: #135CD2;",h=f?"color: #E3E3E3;":"color: #1F1F1F;",g="5.4.4",y=10,b="data-iframe-size",v="data-iframe-overflowed",z="data-iframe-ignore",w="bottom",$="right",S="resizeParent",E="setOffsetSize",O="resizeObserver",j="overflowObserver",k="mutationObserver",M=(e,t,n,o)=>e.addEventListener(t,n,o||!1),P=(e,t,n)=>e.removeEventListener(t,n,!1),I=["<iy><yi>Puchspk Spjluzl Rlf</><iy><iy>","<iy><yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.","<iy><yi>Zvsv spjluzl kvlz uva zbwwvya jyvzz-kvthpu</><iy><iy>Av bzl <p>pmyhtl-ylzpgly</> dpao jyvzz kvthpu pmyhtlz fvb ullk lpaoly aol Wyvmlzzpvuhs vy Ibzpulzz spjluzlz. Mvy klahpsz vu bwnyhkl wypjpun wslhzl jvuahja pumv@pmyhtl-ylzpgly.jvt."];Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5"].map(((e,t)=>[e,Math.max(0,t-1)])));const T=e=>(e=>e.replaceAll(/[A-Za-z]/g,(e=>String.fromCodePoint((e<="Z"?90:122)>=(e=e.codePointAt(0)+19)?e:e-26))))(I[e]),A=e=>{let t=!1;return function(){return t?void 0:(t=!0,Reflect.apply(e,this,arguments))}},C=e=>e,x=e=>Math.round(1e3*e)/1e3,N=e=>e.charAt(0).toUpperCase()+e.slice(1),R=e=>""!=`${e}`&&void 0!==e;const q=(e,t,n)=>{if(typeof e!==t)throw new TypeError(`${n} is not a ${N(t)}`)};let B=!0;const L=(F=function(n={}){const s={},c={},f=[],p={...a,expand:!n.collapsed||a.expanded,...n};let h;function g(){f.length=0}function y(){delete p.event,g()}const b=()=>!!f.some((([e])=>e in i))||!!p.expand;function v(){if(0!==f.length){console[b()?"group":"groupCollapsed"](`%c${p.label}%c ${(e=>{const t=e.event||e.defaultEvent;return t?`${t}`:""})(p)} %c${p.showTime?h:""}`,e,t,o);for(const[e,...t]of f)console[e](...t);console.groupEnd(),y()}else y()}function z(){h=function(){const e=new Date,t=(t,n)=>e[t]().toString().padStart(n,"0");return`@ ${t("getHours",2)}:${t("getMinutes",2)}:${t("getSeconds",2)}.${t("getMilliseconds",3)}`}(),queueMicrotask((()=>queueMicrotask(v)))}function w(e,...t){0===f.length&&z(),f.push([e,...t])}function $(e=r,...t){w("log",`${e}: ${performance.now()-s[e]} ms`,...t)}return{...m(p,d(p)),...m(console,(e=>[e,(...t)=>w(e,...t)])),...m(l,u),count:function(e=r){c[e]?c[e]+=1:c[e]=1,w("log",`${e}: ${c[e]}`)},countReset:function(e=r){delete c[e]},endAutoGroup:v,errorBoundary:e=>(...t)=>{let n;try{n=e(...t)}catch(e){if(!Error.prototype.isPrototypeOf(e))throw e;w("error",e)}return n},purge:g,time:function(e=r){s[e]=performance.now()},timeEnd:function(e=r){$(e),delete s[e]},timeLog:$}},F?.__esModule?F.default:F);var F;const W=L({label:"iframeResizer(child)"});var D;const H=(D="log",(...e)=>!B||W[D](...e)),{assert:V,debug:U,endAutoGroup:Z,error:J,errorBoundary:_,event:Q,purge:G,warn:X}=W,Y=e=>{return W.warn((t=C,e=>window.chrome?t(e.replaceAll("<br>","\n").replaceAll("<rb>","[31;1m").replaceAll("</>","[m").replaceAll("<b>","[1m").replaceAll("<i>","[3m").replaceAll("<u>","[4m")):t(e.replaceAll("<br>","\n").replaceAll(/<[/a-z]+>/gi,"")))(e));var t},K=Y,ee=(e=>(t,n="renamed to")=>(o,r,i="",a="")=>e(a,`<rb>Deprecated ${t}(${o.replace("()","")})</>\n\nThe <b>${o}</> ${t.toLowerCase()} has been ${n} <b>${r}</>. ${i}Use of the old ${t.toLowerCase()} will be removed in a future version of <i>iframe-resizer</>.`))(((e,t)=>Y(t))),te=ee("Method"),ne=ee("Method","replaced with"),oe=ee("Option"),re="--ifr-start",ie="--ifr-end",ae=[],le=new WeakSet,se=e=>"object"==typeof e&&le.add(e);let ce={},ue=0;const de=setInterval((()=>{if(ae.length<10)return;if(ce.hasTags&&ce.len<25)return;ae.sort();const e=Math.min(ae.reduce(((e,t)=>e+t),0)/ae.length,ae[Math.floor(ae.length/2)]),t=x(e);t>ue&&(ue=t,Q("performanceObserver")),e<=4||(clearInterval(de),Y(`<rb>Performance Warning</>\n\nCalculating the page size is taking an excessive amount of time (${x(e)}ms).\n\nTo improve performance add the <b>data-iframe-size</> attribute to the ${ce.Side.toLowerCase()} most element on the page. For more details see: <u>https://iframe-resizer.com/perf</>.`))}),5e3);function me(e){e.getEntries().forEach((e=>{if(e.name===ie){const{duration:t}=performance.measure("--ifr-measure",re,ie);ce=e.detail,ae.push(t),ae.length>100&&ae.shift()}}))}function fe(){new PerformanceObserver(me).observe({entryTypes:["mark"]}),se(document.documentElement),se(document.body)}"undefined"!=typeof document&&"undefined"!=typeof PerformanceObserver&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",fe):fe()),"undefined"!=typeof window&&function(){const o={contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0},r={height:()=>(X("Custom height calculation function not defined"),ft.auto()),width:()=>(X("Custom width calculation function not defined"),pt.auto())},i={bodyOffset:1,bodyScroll:1,offset:1,documentElementOffset:1,documentElementScroll:1,boundingClientRect:1,max:1,min:1,grow:1,lowestElement:1},a={},l="checkVisibility"in window,s="auto",c="[iFrameSizer]",u={max:1,min:1,bodyScroll:1,documentElementScroll:1},d="scroll";let m,f,I,L,F,D=!0,U="",J=0,ee="",ae="",le=!0,se=!1,ce=!0,ue=!1,de=!1,me=!1,fe=1,pe=s,he="",ge=!0,ye="",be={},ve=!0,ze=!1,we=0,$e=!1,Se="",Ee=C,Oe=[],je="child",ke=null,Me=!1,Pe="",Ie=[],Te=window.parent,Ae="*",Ce=0,xe=!1,Ne="",Re=1,qe=d,Be=window,Le=()=>{X("onMessage function not defined")},Fe=()=>{},We=null,De=null;function He(){var e,t,n;!function(){const e=e=>"true"===e,t=ye.slice(13).split(":");Se=t[0],J=void 0===t[1]?J:Number(t[1]),se=void 0===t[2]?se:e(t[2]),ze=void 0===t[3]?ze:e(t[3]),D=void 0===t[6]?D:e(t[6]),ee=t[7],pe=void 0===t[8]?pe:t[8],U=t[9],ae=t[10],Ce=void 0===t[11]?Ce:Number(t[11]),be.enable=void 0!==t[12]&&e(t[12]),je=void 0===t[13]?je:t[13],qe=void 0===t[14]?qe:t[14],$e=void 0===t[15]?$e:e(t[15]),m=void 0===t[16]?m:Number(t[16]),f=void 0===t[17]?f:Number(t[17]),le=void 0===t[18]?le:e(t[18]),t[19],Ne=t[20]||Ne,we=void 0===t[21]?we:Number(t[21]),ve=void 0===t[23]?ve:e(t[23])}(),e={id:Se,enabled:ze,expand:ve},W.label(`${e.id}`),W.expand(e.expand),B=e.enabled,function(){function e(e){Le=e?.onMessage||Le,Fe=e?.onReady||Fe,"number"==typeof e?.offset&&(oe("offset","offsetSize"),le&&(m=e?.offset),se&&(f=e?.offset)),"number"==typeof e?.offsetSize&&(le&&(m=e?.offsetSize),se&&(f=e?.offsetSize)),Object.prototype.hasOwnProperty.call(e,"sizeSelector")&&(Pe=e.sizeSelector),Object.prototype.hasOwnProperty.call(e,"ignoreSelector")&&(he=e.ignoreSelector),Ae=e?.targetOrigin||Ae,pe=e?.heightCalculationMethod||pe,qe=e?.widthCalculationMethod||qe}function t(e,t){return"function"==typeof e&&(r[t]=e,e="custom"),e}if(1===we)return;const n=window.iframeResizer||window.iFrameResizer;"object"==typeof n&&(e(n),pe=t(pe,"height"),qe=t(qe,"width"),H(`Set targetOrigin for parent: %c${Ae}`,p))}(),Ye(),function(){try{Me=1===we||"iframeParentListener"in window.parent}catch(e){}}(),we<0?K(`${T(we+2)}${T(2)}`):Ne.codePointAt(0)>4||we<2&&K(T(3)),Ne&&""!==Ne&&"false"!==Ne?Ne!==g&&Y(`<b>Version mismatch</>\n\nThe parent and child pages are running different versions of <i>iframe resizer</>.\n\nParent page: ${Ne} - Child page: ${g}.\n`):Y("<rb>Legacy version detected on parent page</>\n\nDetected legacy version of parent page script. It is recommended to update the parent page to use <b>@iframe-resizer/parent</>.\n\nSee <u>https://iframe-resizer.com/setup/</> for more details.\n"),tt(),nt(),function(){let e=!1;const t=t=>document.querySelectorAll(`[${t}]`).forEach((n=>{e=!0,n.removeAttribute(t),n.toggleAttribute(b,!0)}));t("data-iframe-height"),t("data-iframe-width"),e&&Y("<rb>Deprecated Attributes</>\n          \nThe <b>data-iframe-height</> and <b>data-iframe-width</> attributes have been deprecated and replaced with the single <b>data-iframe-size</> attribute. Use of the old attributes will be removed in a future version of <i>iframe-resizer</>.")}(),"BackCompat"===document.compatMode&&Y("<rb>Quirks Mode Detected</>\n\nThis iframe is running in the browser's legacy <b>Quirks Mode</>, this may cause issues with the correct operation of <i>iframe-resizer</>. It is recommended that you switch to the modern <b>Standards Mode</>.\n\nFor more information see <u>https://iframe-resizer.com/quirks-mode</>.\n"),Ze(),1!==we&&(Be.parentIframe=Object.freeze({autoResize:e=>(q(e,"bool","parentIframe.autoResize(enable) enable"),!0===e&&!1===D?(D=!0,vt("autoResizeEnabled","Auto Resize enabled")):!1===e&&!0===D&&(D=!1),$t(0,0,"autoResize",JSON.stringify(D)),D),close(){$t(0,0,"close")},getId:()=>Se,getOrigin:()=>(te("getOrigin()","getParentOrigin()"),I),getParentOrigin:()=>I,getPageInfo(e){if("function"==typeof e)return We=e,$t(0,0,"pageInfo"),void ne("getPageInfo()","getParentProps()","See <u>https://iframe-resizer.com/upgrade</> for details. ");We=null,$t(0,0,"pageInfoStop")},getParentProps:e=>(q(e,"function","parentIframe.getParentProps(callback) callback"),De=e,$t(0,0,"parentInfo"),()=>{De=null,$t(0,0,"parentInfoStop")}),getParentProperties(e){te("getParentProperties()","getParentProps()"),this.getParentProps(e)},moveToAnchor(e){q(e,"string","parentIframe.moveToAnchor(anchor) anchor"),be.findTarget(e)},reset(){wt()},setOffsetSize(e){q(e,"number","parentIframe.setOffsetSize(offset) offset"),m=e,f=e,vt(E,`parentIframe.setOffsetSize(${e})`)},scrollBy(e,t){q(e,"number","parentIframe.scrollBy(x, y) x"),q(t,"number","parentIframe.scrollBy(x, y) y"),$t(t,e,"scrollBy")},scrollTo(e,t){q(e,"number","parentIframe.scrollTo(x, y) x"),q(t,"number","parentIframe.scrollTo(x, y) y"),$t(t,e,"scrollTo")},scrollToOffset(e,t){q(e,"number","parentIframe.scrollToOffset(x, y) x"),q(t,"number","parentIframe.scrollToOffset(x, y) y"),$t(t,e,"scrollToOffset")},sendMessage(e,t){t&&q(t,"string","parentIframe.sendMessage(msg, targetOrigin) targetOrigin"),$t(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod(e){pe=e,tt()},setWidthCalculationMethod(e){qe=e,nt()},setTargetOrigin(e){q(e,"string","parentIframe.setTargetOrigin(targetOrigin) targetOrigin"),Ae=e},resize(e,t){e&&q(e,"number","parentIframe.resize(customHeight, customWidth) customHeight"),t&&q(t,"number","parentIframe.resize(customHeight, customWidth) customWidth"),vt("parentIframe.resize()",`parentIframe.resize(${e||""}${t?`,${t}`:""})`,e,t)},size(e,t){te("size()","resize()"),this.resize(e,t)}}),Be.parentIFrame=Be.parentIframe),function(){function e(e){$t(0,0,e.type,`${e.screenY}:${e.screenX}`)}function t(t,n){M(window.document,t,e)}!0===$e&&(t("mouseenter"),t("mouseleave"))}(),be=function(){const e=()=>({x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop});function t(t){const n=t.getBoundingClientRect(),o=e();return{x:parseInt(n.left,y)+parseInt(o.x,y),y:parseInt(n.top,y)+parseInt(o.y,y)}}function n(e){function n(e){const n=t(e);$t(n.y,n.x,"scrollToOffset")}const o=e.split("#")[1]||e,r=decodeURIComponent(o),i=document.getElementById(r)||document.getElementsByName(r)[0];void 0===i?$t(0,0,"inPageLink",`#${o}`):n(i)}function o(){const{hash:e,href:t}=window.location;""!==e&&"#"!==e&&n(t)}function r(){for(const e of document.querySelectorAll('a[href^="#"]'))"#"!==e.getAttribute("href")&&M(e,"click",(t=>{t.preventDefault(),n(e.getAttribute("href"))}))}function i(){M(window,"hashchange",o)}function a(){setTimeout(o,128)}function l(){r(),i(),a()}return be.enable&&(1===we?Y("In page linking requires a Professional or Business license. Please see <u>https://iframe-resizer.com/pricing</> for more details."):l()),{findTarget:n}}(),void 0===ee&&(ee=`${J}px`),Ge("margin",(t="margin",(n=ee).includes("-")&&(X(`Negative CSS value ignored for ${t}`),n=""),n)),Ge("background",U),Ge("padding",ae),function(){const e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.append(e)}(),function(){const e=e=>e.style.setProperty("height","auto","important");e(document.documentElement),e(document.body)}(),function(e){Ke({method:e,eventType:"After Print",eventName:"afterprint"}),Ke({method:e,eventType:"Before Print",eventName:"beforeprint"}),Ke({method:e,eventType:"Ready State Change",eventName:"readystatechange"})}("add"),function(){const e=new Set,t=[];let n=!1,o=0;const r=t=>{for(const n of t){const{addedNodes:t,removedNodes:o}=n;for(const n of t)e.add(n);for(const t of o)e.delete(t)}},i=16,a=2,l=200;let s=1;function c(e){Ye(),Je(e),e.forEach(it),e.clear()}function u(){Q("mutationObserver");const d=performance.now(),m=d-o;if(m>i*s+++a&&m<l)return setTimeout(u,i*s),void(o=d);s=1,t.forEach(r),t.length=0,e.size>0&&c(e),Ze(),Ve(),n=!1,vt(k,"Mutation Observed")}function d(e){t.push(e),n||(o=performance.now(),n=!0,requestAnimationFrame(u))}function m(){const e=new window.MutationObserver(d),t=document.querySelector("body"),n={attributes:!1,attributeOldValue:!1,characterData:!1,characterDataOldValue:!1,childList:!0,subtree:!0};return e.observe(t,n),e}m()}(),ke=new ResizeObserver(ot),ke.observe(document.body),rt.add(document.body),it(document.body),le!==se&&(Ee=(e=>{const t=e.side||w,n=e.onChange||C,o={root:e.root,rootMargin:"0px",threshold:1},r=window?.requestAnimationFrame||C,i=(e=!1)=>n(e),a=(e,n)=>0===e||e>n[t],l=(e,t)=>e.toggleAttribute(v,t),s=new IntersectionObserver((function(e){Q("observation");for(const o of e){const{boundingClientRect:e,rootBounds:r,target:i}=o,s=e[t],c=a(s,r)&&!((n=i).hidden||null===n.offsetParent||"none"===n.style.display);l(i,c)}var n;r(i)}),o),c=new WeakSet;return function(){const e=new window.MutationObserver((()=>{H("Detected changes in element attributes"),i(!0)})),t=document.querySelector("body"),n={attributes:!0,attributeFilter:[z],subtree:!0};e.observe(t,n)}(),function(e){for(const t of e){const e=t.nodeType===Node.ELEMENT_NODE,n=c.has(t);!n&&e?(s.observe(t),c.add(t)):V(!n,"Node already observed",t)}}})({onChange:Ue,root:document.documentElement,side:le?w:$})),Je(st(document)()),queueMicrotask(Fe),vt("init","Init message from host page",void 0,void 0,g),document.title&&""!==document.title&&$t(0,0,"title",document.title)}function Ve(){Oe=document.querySelectorAll(`[${v}]:not([${z}]):not([${z}] *)`),de=Oe.length>0}function Ue(e){Ve(),(de||e)&&vt(j,"Overflow updated")}function Ze(){Ie=document.querySelectorAll(`[${b}]`),me=Ie.length>0}function Je(e){me||Ee(e)}let _e=0;function Qe(){const n=document.querySelectorAll(`*[${z}]`);ue=n.length>0,ue&&n.length!==_e&&(function(n){const o=1===n.length?"":"s";X(`%c[${z}]%c found on %c${n.length}%c element${o}`,t,e,t,e)}(n),_e=n.length)}function Ge(e,t){void 0!==t&&""!==t&&"null"!==t&&(document.body.style.setProperty(e,t),H(`Set body ${e}: %c${t}`,p))}function Xe(e,t,n){if(""!==n)for(const e of document.querySelectorAll(n))e.toggleAttribute(t,!0)}function Ye(){Xe(0,b,Pe),Xe(0,z,he)}function Ke(e){({add(t){function n(){vt(e.eventName,e.eventType)}a[t]=n,M(window,t,n,{passive:!0})},remove(e){const t=a[e];delete a[e],P(window,e,t)}})[e.method](e.eventName)}function et(e,t,n,o){return t!==e&&(e in n||(X(`${e} is not a valid option for ${o}CalculationMethod.`),e=t),e in i&&Y(`<rb>Deprecated ${o}CalculationMethod (${e})</>\n\nThis version of <i>iframe-resizer</> can auto detect the most suitable ${o} calculation method. It is recommended that you remove this option.`)),e}function tt(){pe=et(pe,s,ft,"height")}function nt(){qe=et(qe,d,pt,"width")}function ot(e){if(!Array.isArray(e)||0===e.length)return;const t=e[0].target;vt(O,`Element resized <${function(e){switch(!0){case!R(e):return"";case R(e.id):return`${e.nodeName}#${e.id}`;case R(e.name):return`${e.nodeName} (${e.name}`;case R(e.className):return`${e.nodeName}.${e.className}`;default:return e.nodeName}}(t)}>`)}const rt=new WeakSet;function it(e){if(e.nodeType!==Node.ELEMENT_NODE)return;if(!rt.has(e)){const t=getComputedStyle(e)?.position;""!==t&&"static"!==t&&(ke.observe(e),rt.add(e))}const t=st(e)();for(const e of t){if(rt.has(e)||e?.nodeType!==Node.ELEMENT_NODE)continue;const t=getComputedStyle(e)?.position;""!==t&&"static"!==t&&(ke.observe(e),rt.add(e))}}function at(e){performance.mark(re);const t=N(e);let n=0,r=document.documentElement,i=me?0:document.documentElement.getBoundingClientRect().bottom;const a=me?Ie:de?Oe:st(document)();let s=a.length;for(const t of a)me||!l||t.checkVisibility(o)?(n=t.getBoundingClientRect()[e]+parseFloat(getComputedStyle(t).getPropertyValue(`margin-${e}`)),n>i&&(i=n,r=t)):s-=1;return H(`${t} position calculated from:`,r),performance.mark(ie,{detail:{Side:t,len:s,hasTags:me,logging:ze}}),i}const lt=e=>[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll(),e.boundingClientRect()],st=e=>()=>{Qe();const t=["* ","not(head)","not(meta)","not(base)","not(title)","not(script)","not(link)","not(style)","not(map)","not(area)","not(option)","not(optgroup)","not(template)","not(track)","not(wbr)","not(nobr)"];return ue&&t.push(`not([${z}])`,`not([${z}] *)`),e.querySelectorAll(t.join(":"))},ct={height:0,width:0},ut={height:0,width:0},dt=[p,h,p];function mt(e){function t(){return ut[o]=r,ct[o]=l,r}const n=e===ft,o=n?"height":"width",r=e.boundingClientRect(),i=Math.ceil(r),a=Math.floor(r),l=(e=>e.documentElementScroll()+Math.max(0,e.getOffset()))(e),s=`HTML: %c${r}px %cPage: %c${l}px`;let c=0;switch(!0){case!e.enabled():return l;case me:H("Found element with data-iframe-size attribute"),c=e.taggedElement();break;case!de&&0===ut[o]&&0===ct[o]:H(`Initial page size values: ${s}`,...dt),c=t();break;case xe&&r===ut[o]&&l===ct[o]:H(`Size unchanged: ${s}`,...dt),c=Math.max(r,l);break;case 0===r:H(`Page is hidden: ${s}`,...dt),c=l;break;case!de&&r!==ut[o]&&l<=ct[o]:H(`New <html> size: ${s} `,...dt),H(`Previous <html> size: %c${ut[o]}px`,p),c=t();break;case!n:c=e.taggedElement();break;case!de&&r<ut[o]:H(`<html> size decreased: ${s}`,...dt),c=t();break;case l===a||l===i:H(`<html> size equals page size: ${s}`,...dt),c=t();break;case r>l:H(`Page size < <html> size: ${s}`,...dt),c=t();break;case de:H("Found element overflowing <html> "),c=e.taggedElement();break;default:H(`Using <html> size: ${s}`,...dt),c=t()}return H(`Content ${o}: %c${c}px`,p),c+=function(e){const t=e.getOffset();return 0!==t&&H(`Page offsetSize: %c${t}px`,p),t}(e),c}const ft={enabled:()=>le,getOffset:()=>m,auto:()=>mt(ft),bodyOffset:()=>{const{body:e}=document,t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,y)+parseInt(t.marginBottom,y)},bodyScroll:()=>document.body.scrollHeight,offset:()=>ft.bodyOffset(),custom:()=>r.height(),documentElementOffset:()=>document.documentElement.offsetHeight,documentElementScroll:()=>document.documentElement.scrollHeight,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().bottom,document.body.getBoundingClientRect().bottom),max:()=>Math.max(...lt(ft)),min:()=>Math.min(...lt(ft)),grow:()=>ft.max(),lowestElement:()=>at(w),taggedElement:()=>at(w)},pt={enabled:()=>se,getOffset:()=>f,auto:()=>mt(pt),bodyScroll:()=>document.body.scrollWidth,bodyOffset:()=>document.body.offsetWidth,custom:()=>r.width(),documentElementScroll:()=>document.documentElement.scrollWidth,documentElementOffset:()=>document.documentElement.offsetWidth,boundingClientRect:()=>Math.max(document.documentElement.getBoundingClientRect().right,document.body.getBoundingClientRect().right),max:()=>Math.max(...lt(pt)),min:()=>Math.min(...lt(pt)),rightMostElement:()=>at($),scroll:()=>Math.max(pt.bodyScroll(),pt.documentElementScroll()),taggedElement:()=>at($)},ht=(e,t)=>!(Math.abs(e-t)<=Ce);function gt(e,t,n,o,r){const i=void 0===n?ft[pe]():n,a=void 0===o?pt[qe]():o;switch(!0){case le&&ht(fe,i)||se&&ht(Re,a)||"init"===e:fe=i,Re=a;case e===E:$t(fe,Re,e,r);break;case!e!==S&&(le&&pe in u||se&&qe in u):wt();break;case e===O:case e===j:case e===k:G();break;default:G(),H("No change in content size detected")}L=!1}let yt=!1;const bt=A((()=>K(T(4)))),vt=_(((e,t,n,o,r)=>{F=performance.now(),Q(e),D||e===S?document.hidden||(yt||(L=!0,gt(e,0,n,o,r),requestAnimationFrame((()=>{yt=!1}))),yt=!0):H("Resizing disabled")}));function zt(e){fe=ft[pe](),Re=pt[qe](),$t(fe,Re,e)}function wt(e){const t=pe;pe=s,xe||(xe=!0,requestAnimationFrame((()=>{xe=!1}))),zt("reset"),pe=t}const $t=_((function(e,t,o,r,i){we<-1||(Q(o),void 0!==i||(i=Ae),function(){const a=`${Se}:${e}:${t}:${o}${void 0===r?"":`:${r}`}`;if(Me)try{window.parent.iframeParentListener(c+a)}catch(e){if(1!==we)throw e;return void bt()}else Te.postMessage(c+a,i);L&&H(function(){const e=x(performance.now()-F);return"init"===o?`Initialised iFrame in %c${e}ms`:`Size calculated in %c${e}ms`}(),p),H("Sending message to host page via "+(Me?"sameOrigin":"postMessage")),H(`%c${a}`,n)}(),Z())})),St=_((function(e){const{freeze:t}=Object,{parse:n}=JSON,o=e=>$t(0,0,`${e}Stop`),r={init:function(){ye=e.data,Te=e.source,I=e.origin,He(),ce=!1,setTimeout((()=>{ge=!1}),128)},reset(){ge||zt("resetPage")},resize(){vt(S,"Parent window requested size check")},moveToAnchor(){be.findTarget(a())},inPageLink(){this.moveToAnchor()},pageInfo(){const e=a();We?setTimeout((()=>We(n(e)))):o("pageInfo")},parentInfo(){const e=a();De?setTimeout((()=>De(t(n(e))))):o("parentInfo")},message(){const e=a();setTimeout((()=>Le(n(e))))}},i=()=>e.data.split("]")[1].split(":")[0],a=()=>e.data.slice(e.data.indexOf(":")+1),l=()=>e.data.split(":")[2]in{true:1,false:1};function s(){const t=i();t in r?r[t]():"iframeResize"in window||void 0!==window.jQuery&&""in window.jQuery.prototype||l()||X(`Unexpected message (${e.data})`)}c===`${e.data}`.slice(0,13)&&(Q(i()),!1!==ce?l()&&r.init():s())}));function Et(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}function Ot(e){return St(e),Be}"iframeChildListener"in window?X("Already setup"):(window.iframeChildListener=e=>setTimeout((()=>St({data:e,sameOrigin:!0}))),M(window,"message",St),M(window,"readystatechange",Et),Et());try{top?.document?.getElementById("banner")&&(Be={},window.mockMsgListener=Ot,P(window,"message",St),define([],(()=>Ot)))}catch(e){}}()}();
