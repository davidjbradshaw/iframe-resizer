/*!
 *  @preserve
 *
 *  @module      iframe-resizer/jquery 6.0.0-beta.0 (iife) 
 *
 *  @license     GPL-3.0 For use with GPL compliant sites (fully published front & backend source code)
 *               Alternatively for commercial use, you can purchase a license from
 *               https://iframe-resizer.com/pricing
 *
 *  @description Keep same and cross domain iFrames sized to their content
 *
 *  @author      David J. Bradshaw <info@iframe-resizer.com>
 *
 *  @see         {@link https://iframe-resizer.com}
 *
 *  @copyright  (c) 2013 - 2026, David J. Bradshaw. All rights reserved.
 */


!function(){"use strict";const e="6.0.0-beta.0",t="iframeResizer",n=":",o="autoResize",i="init",r="iframeReady",s="load",a="message",l="onload",c="pageInfo",u="parentInfo",d="reset",f="resize",p="scroll",h="\n",m="parent",g="string",y="object",b="function",v="auto",w="none",z="both",$="vertical",j="horizontal",k="[iFrameSizer]",T=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),M=Object.freeze({[l]:1,[i]:1,[r]:1}),x="expanded",S="collapsed",R=Object.freeze({[x]:1,[S]:1}),O="Use of the old name will be removed in a future version of <i>iframe-resizer</>.",E=e=>typeof e===y&&null!==e,I=e=>typeof e===g;const C=(e,t)=>Object.hasOwn?Object.hasOwn(e,t):((e,t)=>Object.prototype.hasOwnProperty.call(e,t))(e,t),W="font-weight: normal;",L=W+"font-style: italic;",A="default",N=Object.freeze({assert:!0,error:!0,warn:!0}),F={expand:!1,defaultEvent:void 0,event:void 0,label:"AutoConsoleGroup",showTime:!0},B={profile:0,profileEnd:0,timeStamp:0,trace:0},H=Object.assign(console);const{fromEntries:P,keys:q}=Object,D=e=>[e,H[e]],U=e=>t=>[t,function(n){e[t]=n}],Q=(e,t)=>P(q(e).map(t));const J=!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches,Z=J?"color: #A9C7FB;":"color: #135CD2;",V=J?"color: #E3E3E3;":"color: #1F1F1F;";const G={br:"\n",rb:"[31;1m",bb:"[34;1m",b:"[1m",i:"[3m",u:"[4m","/":"[m"},X=Object.keys(G),Y=new RegExp(`<(${X.join("|")})>`,"gi"),_=(e,t)=>G[t]??"";var K=e=>t=>e(I(t)?window.chrome?t.replace(Y,_):(e=>e.replaceAll("<br>",h).replaceAll(/<\/?[^>]+>/gi,""))(t):t),ee={};const te=(ne=function(e={}){const t={},n={},o=[],i={...F,expand:!e.collapsed||F.expanded,...e};let r="";function s(){o.length=0,r=""}function a(){delete i.event,s()}const l=()=>!!o.some(([e])=>e in N)||!!i.expand;function c(){if(0!==o.length){H[l()?"group":"groupCollapsed"](`%c${i.label}%c ${(e=>{const t=e.event||e.defaultEvent;return t?`${t}`:""})(i)} %c${i.showTime?r:""}`,W,"font-weight: bold;",L);for(const[e,...t]of o)H.assert(e in H,`Unknown console method: ${e}`),e in H&&H[e](...t);H.groupEnd(),a()}else a()}function u(){""===r&&(r=function(){const e=new Date,t=(t,n)=>e[t]().toString().padStart(n,"0");return`@ ${t("getHours",2)}:${t("getMinutes",2)}:${t("getSeconds",2)}.${t("getMilliseconds",3)}`}(),queueMicrotask(()=>queueMicrotask(c)))}function d(e,...t){0===o.length&&u(),o.push([e,...t])}function f(e=A,...n){t[e]?d("log",`${e}: ${performance.now()-t[e]} ms`,...n):d("timeLog",e,...n)}return{...Q(i,U(i)),...Q(console,e=>[e,(...t)=>d(e,...t)]),...Q(B,D),assert:function(e,...t){!0!==e&&d("assert",e,...t)},count:function(e=A){n[e]?n[e]+=1:n[e]=1,d("log",`${e}: ${n[e]}`)},countReset:function(e=A){delete n[e]},endAutoGroup:c,errorBoundary:e=>(...t)=>{let n;try{n=e(...t)}catch(e){if(!Error.prototype.isPrototypeOf(e))throw e;d("error",e),c()}return n},event:function(e){u(),i.event=e},purge:s,time:function(e=A){u(),t[e]=performance.now()},timeEnd:function(e=A){f(e),delete t[e]},timeLog:f,touch:u}},ne?.__esModule?ne.default:ne);var ne;let oe=!0;const ie=te({expand:!1,label:m}),re=e=>window.top===window.self?`parent(${e})`:`nested parent(${e})`;const se=e=>(t,...n)=>ee[t]?ee[t].console[e](...n):ie[e](...n);var ae;const le=(ae="log",(e,...t)=>!0===(e=>ee[e]?ee[e].log:oe)(e)?se(ae)(e,...t):null),ce=se("warn"),ue=se("error"),de=se("event"),fe=se("purge"),pe=se("endAutoGroup"),he=se("errorBoundary");const me=K(e=>e),ge=(e,...n)=>ee[e]?ee[e].console.warn(...n.map(me)):queueMicrotask(()=>{const o=K((e=>(...n)=>[`${t}(${e})`,...n].join(" "))(e));console?.warn(...n.map(o))}),ye=(e=>(t,n="renamed to")=>(o,i,r="",s="")=>e(s,`<rb>Deprecated ${t}(${o.replace("()","")})</>\n\nThe <b>${o}</> ${t.toLowerCase()} has been ${n} <b>${i}</>. ${r}Use of the old ${t.toLowerCase()} will be removed in a future version of <i>iframe-resizer</>.`))(ge),be=ye("Method"),ve=ye("Option");var we=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyPadding:null,checkOrigin:!0,direction:$,firstRun:!0,inPageLinks:!1,heightCalculationMethod:v,id:"iFrameResizer",log:!1,logExpand:!1,license:void 0,mouseEvents:!0,offsetHeight:null,offsetWidth:null,postMessageTarget:null,sameDomain:!1,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,waitForLoad:!1,warningTimeout:5e3,widthCalculationMethod:v,onBeforeClose:()=>!0,onAfterClose(){},onInit:!1,onMessage:null,onMouseEnter(){},onMouseLeave(){},onReady:e=>{typeof ee[e.id].onInit===b&&(ve("init()","onReady()","",e.id),ee[e.id].onInit(e))},onResized(){},onScroll:()=>!0});let ze=0;function $e(e,t){let{id:n}=e;if(n&&!I(n))throw new TypeError("Invalid id for iFrame. Expected String");return n&&""!==n||(n=function(e){const t=e?.id||we.id+ze++;return null===document.getElementById(t)?t:`${t}${ze++}`}(t),e.id=n,de(n,"assignId")),n}const je=(e,t,n,o)=>e.addEventListener(t,n,o||!1),ke=(e,t,n)=>e.removeEventListener(t,n,!1);function Te(e,t,o){function i(i){const r=e in M?(e=>e.split(n).filter((e,t)=>19!==t).join(n))(t):t;le(o,i,Z,V,Z),le(o,`Message data: %c${r}`,Z)}const{iframe:r,postMessageTarget:s,sameOrigin:a,targetOrigin:l}=ee[o];if(a)try{return r.contentWindow.iframeChildListener(k+t),void i(`Sending message to iframe %c${o}%c via same origin%c`)}catch(t){e in M?ee[o].sameOrigin=!1:ce(o,"Same origin messaging failed, falling back to postMessage")}i(`Sending message to iframe: %c${o}%c targetOrigin: %c${l}`),s.postMessage(k+t,l)}function Me(e,t,n){de(n,e),ee[n]?.postMessageTarget?Te(e,t,n):ce(n,"Iframe not found")}function xe(){!0!==document.hidden&&((e,t)=>{Object.values(ee).filter(({autoResize:e,firstRun:t})=>e&&!t).forEach(({iframe:n})=>Me(e,t,n.id))})("tabVisible",f)}function Se(e){if("border-box"!==e.boxSizing)return 0;return(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function Re(e){if("border-box"!==e.boxSizing)return 0;return(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}const Oe={true:1,false:1,undefined:1};function Ee(e){const{id:t,msg:n,iframe:o}=e,i=function(e){if(!E(e))return!1;try{return"IFRAME"===e.tagName||e instanceof HTMLIFrameElement}catch(e){return!1}}(o);return i||ce(t,"The target iframe was not found."),i}function Ie(e,t,n){if(!ee[e])return null;const o=ee[e][t];if(typeof o!==b)throw new TypeError(`${t} on iframe[${e}] is not a function`);if("onBeforeClose"!==t&&"onScroll"!==t)return((e,...t)=>setTimeout(()=>e(...t),0))(o,n);try{return o(n)}catch(n){return console.error(n),ce(e,`Error in ${t} callback`),null}}function Ce(e,t){const{lastMessage:o}=ee[e];return o.slice(o.indexOf(n)+7+t)}function We(e,t){const{id:o,iframe:i,height:r,type:s,width:a}=t;let l={};if(0===a&&0===r){const e=Ce(o,9).split(n);l={x:e[1],y:e[0]}}else l={x:a,y:r};Ie(o,e,{iframe:i,screenX:Number(l.x),screenY:Number(l.y),type:s})}var Le={position:null,version:e};function Ae(){Le.position=null}function Ne(e){return null===Le.position&&(Le.position={x:window.scrollX,y:window.scrollY}),Le.position}function Fe(e){null!==Le.position&&(window.scrollTo(Le.position.x,Le.position.y),le(e,`Set page position: %c${Le.position.x}%c, %c${Le.position.y}`,Z,V,Z),Ae())}function Be(e,t){const{id:n}=t,o=`${t[e]}px`;ee[n].iframe.style[e]=o,le(n,`Set ${e}: %c${o}`,Z)}function He(e){const{id:t}=e,{sizeHeight:n,sizeWidth:o}=ee[t];n&&Be("height",e),o&&Be("width",e)}function Pe(e){const{id:t}=e;He(e),Fe(t),Ie(t,"onResized",e)}function qe(e){const{id:t}=e;delete ee[t],delete e.iframeResizer}function De(e){const{id:t}=e;if(!1!==Ie(t,"onBeforeClose",t)){try{e.parentNode&&e.remove()}catch(e){ce(t,e)}Ie(t,"onAfterClose",t),qe(e)}}function Ue(e){const{id:t,type:n}=e;Ne(),He(e),Me(d,d,t)}const Qe=(e,t)=>{const n={};return(o,i)=>{const{iframe:r}=ee[i];var s,a;s=function(){Me(`${o} (${e})`,`${e}:${t(r)}`,i)},n[a=i]||(s(),n[a]=requestAnimationFrame(()=>{n[a]=null}))}},Je=e=>t=>{e in ee[t]&&(ee[t][e](),delete ee[t][e])},Ze=(e,t)=>n=>{let o=!1;const i=t=>()=>{ee[n]?o&&o!==t||(e(t,n),o=t,requestAnimationFrame(()=>{o=!1})):c()},r=i(p),a=i("resize window");function l(e,t){t(window,p,r),t(window,f,a)}function c(){de(n,`stop${t}`),l(0,ke),u.disconnect(),d.disconnect(),ee[n]&&ke(ee[n].iframe,s,c)}const u=new ResizeObserver(i("pageObserver")),d=new ResizeObserver(i("iframeObserver"));ee[n]&&(ee[n][`stop${t}`]=c,je(ee[n].iframe,s,c),l(0,je),u.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),d.observe(ee[n].iframe,{attributes:!0,childList:!1,subtree:!1}))};const Ve=Ze(Qe(c,function(e){const t=document.body.getBoundingClientRect(),n=e.getBoundingClientRect(),{scrollY:o,scrollX:i,innerHeight:r,innerWidth:s}=window,{clientHeight:a,clientWidth:l}=document.documentElement;return JSON.stringify({iframeHeight:n.height,iframeWidth:n.width,clientHeight:Math.max(a,r||0),clientWidth:Math.max(l,s||0),offsetTop:parseInt(n.top-t.top,10),offsetLeft:parseInt(n.left-t.left,10),scrollTop:o,scrollLeft:i,documentHeight:a,documentWidth:l,windowHeight:r,windowWidth:s})}),"PageInfo"),Ge=Je("stopPageInfo");const Xe=Ze(Qe(u,function(e){const{scrollWidth:t,scrollHeight:n}=document.documentElement,{width:o,height:i,offsetLeft:r,offsetTop:s,pageLeft:a,pageTop:l,scale:c}=window.visualViewport;return JSON.stringify({iframe:e.getBoundingClientRect(),document:{scrollWidth:t,scrollHeight:n},viewport:{width:o,height:i,offsetLeft:r,offsetTop:s,pageLeft:a,pageTop:l,scale:c}})}),"ParentInfo"),Ye=Je("stopParentInfo");function _e(e){const t=e.getBoundingClientRect(),n=Ne(e.id);return{x:Number(t.left)+Number(n.x),y:Number(t.top)+Number(n.y)}}function Ke(e){const{x:t,y:n}=Le.position,o=ee[e]?.iframe;!1!==Ie(e,"onScroll",{iframe:o,top:n,left:t,x:t,y:n})?Fe(e):Ae()}const et=e=>t=>{const{id:n,iframe:o,height:i,width:r}=t,s=e?_e(o):{x:0,y:0},a=(e=>({x:r+e.x,y:i+e.y}))(s),l=window.parentIframe||window.parentIFrame;le(n,`Reposition requested (offset x:%c${s.x}%c y:%c${s.y})`,Z,V,Z),l?function(t,n){t["scrollTo"+(e?"Offset":"")](n.x,n.y)}(l,a):function(e){var t;t=e,Le.position=t,Ke(n)}(a)},tt=et(!1),nt=et(!0);function ot(e,t){const n=t.split("#")[1]||"",o=decodeURIComponent(n),i=document.getElementById(o)||document.getElementsByName(o)[0];i?function(e,t,n){const{x:o,y:i}=_e(n);le(e,`Moving to in page link: %c#${t}`,Z),Le.position={x:o,y:i},Ke(e),window.location.hash=t}(e,n,i):window.top!==window.self&&function(e,t){const n=window.parentIframe||window.parentIFrame;n&&n.moveToAnchor(t)}(0,n)}function it(e){const t=ee[e]?.iframe?.title;return""===t||void 0===t}const rt=e=>{if(!e)return"";let t=-559038744,n=1103547984;for(let o,i=0;i<e.length;i++)o=e.codePointAt(i),t=Math.imul(t^o,2246822519),n=Math.imul(n^o,3266489917);return t^=Math.imul(t^n>>>15,1935289751),n^=Math.imul(n^t>>>15,3405138345),t^=n>>>16,n^=t>>>16,(2097152*(n>>>0)+(t>>>11)).toString(36)},st=e=>e.replace(/[A-Za-z]/g,e=>String.fromCodePoint((e<="Z"?90:122)>=(e=e.codePointAt(0)+19)?e:e-26)),at=["spjluzl","rlf","clyzpvu","rlf2"],lt=["<yi>Puchspk Spjluzl Rlf</><iy><iy>","<yi>Tpzzpun Spjluzl Rlf</><iy><iy>","Aopz spiyhyf pz hchpshisl dpao ivao Jvttlyjphs huk Vwlu-Zvbyjl spjluzlz.<iy><iy><i>Jvttlyjphs Spjluzl</><iy>Mvy jvttlyjphs bzl, <p>pmyhtl-ylzpgly</> ylxbpylz h svd jvza vul aptl spjluzl mll. Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.<iy><iy><i>Vwlu Zvbyjl Spjluzl</><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-jvttlyjphs vwlu zvbyjl wyvqlja aolu fvb jhu bzl pa mvy myll bukly aol alytz vm aol NWS C3 Spjluzl. Av jvumpyt fvb hjjlwa aolzl alytz, wslhzl zla aol <i>spjluzl</> rlf pu <p>pmyhtl-ylzpgly</> vwapvuz av <i>NWSc3</>.<iy><iy>Mvy tvyl pumvythapvu wslhzl zll: <b>oaawz://pmyhtl-ylzpgly.jvt/nws</>","<i>NWSc3 Spjluzl Clyzpvu</><iy><iy>Aopz clyzpvu vm <p>pmyhtl-ylzpgly</> pz ilpun bzlk bukly aol alytz vm aol <i>NWS C3</> spjluzl. Aopz spjluzl hssvdz fvb av bzl <p>pmyhtl-ylzpgly</> pu Vwlu Zvbyjl wyvqljaz, iba pa ylxbpylz fvby wyvqlja av il wbispj, wyvcpkl haaypibapvu huk il spjluzlk bukly clyzpvu 3 vy shaly vm aol NUB Nlulyhs Wbispj Spjluzl.<iy><iy>Pm fvb hyl bzpun aopz spiyhyf pu h uvu-vwlu zvbyjl wyvqlja vy dlizpal, fvb dpss ullk av wbyjohzl h svd jvza vul aptl jvttlyjphs spjluzl.<iy><iy>Mvy tvyl pumvythapvu cpzpa <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</>.","<iy><yi>Zvsv spjluzl kvlz uva zbwwvya jyvzz-kvthpu</><iy><iy>Av bzl <p>pmyhtl-ylzpgly</> dpao jyvzz kvthpu pmyhtlz fvb ullk lpaoly aol Wyvmlzzpvuhs vy Ibzpulzz spjluzlz. Mvy klahpsz vu bwnyhkl wypjpun wslhzl jvuahja pumv@pmyhtl-ylzpgly.jvt.","Pu whnl spurpun ylxbpylz h Wyvmlzzpvuhs vy Ibzpulzz spjluzl. Wslhzl zll <b>oaawz://pmyhtl-ylzpgly.jvt/wypjpun</> mvy tvyl klahpsz."],ct=["NWSc3","zvsv","wyv","ibzpulzz","vlt"],ut=Object.fromEntries(["2cgs7fdf4xb","1c9ctcccr4z","1q2pc4eebgb","ueokt0969w","w2zxchhgqz","1umuxblj2e5","2b5sdlfhbev","zo4ui3arjo","oclbb4thgl"].map((e,t)=>[e,Math.max(0,t-1)])),dt=e=>st(lt[e]);var ft=e=>{const t=e[st(at[0])]||e[st(at[1])]||e[st(at[2])]||e[st(at[3])];if(!t)return-1;const n=t.split("-");let o=function(e=""){let t=-2;const n=rt(st(e));return n in ut&&(t=ut[n]),t>4?t-4:t}(n[0]);return 0===o||(e=>e[2]===rt(e[0]+e[1]))(n)||(o=-2),o};let pt=!1,ht=!1;function mt(t,n=-3){if(pt)return;const o=Math.max(ee[t].mode,n);if(o>ee[t].mode&&(ee[t].mode=o),o<0)throw fe(t),ee[t].vAdvised||ge(t||"Parent",`${dt(o+2)}${dt(2)}`),ee[t].vAdvised=!0,dt(o+2).replace(/<\/?[a-z][^>]*>|<\/>/gi,"");o>0&&ht||function(e,t){queueMicrotask(()=>console.info(`%ciframe-resizer ${e}`,oe||t<1?"font-weight: bold;":W))}(`v${e} (${(e=>st(ct[e]))(o)})`,o),o<1&&ge("Parent",dt(3)),pt=!0}function gt(t){const{height:n,id:r,iframe:s,mode:l,message:f,type:p,width:h}=t,{lastMessage:m}=ee[r];switch(ee[r]?.firstRun&&function(e,t){ee[e]&&(mt(e,t),ee[e].firstRun=!1)}(r,l),p){case o:ee[r].autoResize=JSON.parse(Ce(r,9));break;case"beforeUnload":le(r,"Ready state reset"),ee[r].initialised=!1;break;case"close":De(s);break;case"inPageLink":ot(r,Ce(r,9));break;case i:Pe(t),function(e){try{ee[e].sameOrigin=!!ee[e]?.iframe?.contentWindow?.iframeChildListener}catch(t){ee[e].sameOrigin=!1}}(r),function(t,n){n!==e&&(void 0!==n||ge(t,"<rb>Legacy version detected in iframe</>\n\nDetected legacy version of child page script. It is recommended to update the page in the iframe to use <b>@iframe-resizer/child</>.\n\nSee <u>https://iframe-resizer.com/setup/#child-page-setup</> for more details.\n"))}(r,f),ee[r].initialised=!0,Ie(r,"onReady",s);break;case a:!function(e,t){const{id:n,iframe:o}=e;Ie(n,"onMessage",{iframe:o,message:JSON.parse(t)})}(t,Ce(r,6));break;case"mouseenter":We("onMouseEnter",t);break;case"mouseleave":We("onMouseLeave",t);break;case c:Ve(r);break;case u:Xe(r);break;case"pageInfoStop":Ge(r);break;case"parentInfoStop":Ye(r);break;case d:Ue(t);break;case"scrollBy":!function(e){const{id:t,height:n,width:o}=e,i=window.parentIframe||window.parentIFrame||window;le(t,`scrollBy: x: %c${o}%c y: %c${n}`,Z,V,Z),i.scrollBy(o,n)}(t);break;case"scrollTo":tt(t);break;case"scrollToOffset":nt(t);break;case"title":!function(e,t){ee[e]?.syncTitle&&(ee[e].iframe.title=t,le(e,`Set iframe title attribute: %c${t}`,Z))}(r,f);break;default:if(0===h&&0===n)return void ce(r,`Unsupported message received (${p}), this is likely due to the iframe containing a later version of iframe-resizer than the parent page`);if(0===h||0===n)return;if(document.hidden)return;Pe(t)}}function yt(e){const t=e.data;if("[iFrameResizerChild]Ready"===t)return n=e.source,void Object.values(ee).forEach((e=>({initChild:t,postMessageTarget:n})=>{e===n&&t()})(n));var n,o;if(k!==`${o=t}`.slice(0,13)||!(o.slice(13).split(":")[0]in ee)){if(typeof t!==g)return;return void de(m,"ignoredMessage")}const i=function(e){const t=e.slice(13).split(":"),n=t[1]?Number(t[1]):0,o=ee[t[0]]?.iframe,i=getComputedStyle(o),r={iframe:o,id:t[0],height:n+Se(i)+Re(i),width:Number(t[2]),type:t[3],msg:t[4],message:t[4]};return t[5]&&(r.mode=t[5]),r}(t),{id:r,type:s}=i;switch(de(r,s),!0){case!ee[r]:throw new Error(`${s} No settings for ${r}. Message was: ${t}`);case!Ee(i):case function(e){const{id:t,type:n}=e;return n in Oe}(i):case!function(e,t){const{id:n}=e,{data:o,origin:i,sameOrigin:r}=t;if(r)return!0;let s=ee[n]?.checkOrigin;if(s&&"null"!=`${i}`&&!(s.constructor===Array?function(){for(const e of s)if(e===i)return!0;return!1}():function(){const e=ee[n]?.remoteHost;return i===e}()))throw new Error(`Unexpected message received from: ${i} for ${n}. Message was: ${o}. This error can be disabled by setting the checkOrigin: false option or by providing an array of trusted domains.`);return!0}(i,e):return;default:ee[r].lastMessage=e.data,he(r,gt)(i)}}var bt=(e=>{let t=!1;return function(){return t?void 0:(t=!0,Reflect.apply(e,this,arguments))}})(()=>{je(window,a,yt),je(document,"visibilitychange",xe),window.iframeParentListener=e=>setTimeout(()=>yt({data:e,sameOrigin:!0}))});const vt={};const wt=`<rb>Deprecated Method Name</>\n\nThe <b>removeListeners()</> method has been renamed to <b>disconnect()</>. ${O}`;function zt(e){if(ee[e]){const{iframe:t}=ee[e],n={close:De.bind(null,t),disconnect:qe.bind(null,t),moveToAnchor(t){((e,t,n)=>{if(typeof e!==t)throw new TypeError(`${n} is not a ${o=t,o.charAt(0).toUpperCase()+o.slice(1)}`);var o})(t,g,"moveToAnchor(anchor) anchor"),Me("Move to anchor",`moveToAnchor:${t}`,e)},removeListeners(){ge(e,wt),this.disconnect()},resize(){ge(e,"<rb>Deprecated Method</>\n\nUse of the <b>resize()</> method from the parent page is deprecated and will be removed in a future version of <i>iframe-resizer</>. As there are no longer any edge cases that require triggering a resize from the parent page, it is recommended to remove this method from your code."),Me("Window resize",f,e)},sendMessage(t){t=JSON.stringify(t),Me(a,`${a}:${t}`,e)}};t.iframeResizer=n,t.iFrameResizer=n}}const $t="8",jt="32",kt="child",Tt=!0;function Mt(e,t){const{checkOrigin:n,iframe:{src:o,sandbox:i},initialisedFirstPage:r,waitForLoad:s}=t[e],a=(e=>{try{return new URL(e).origin}catch(e){return null}})(o);de(e,"noResponse"),ge(e,`<rb>No response from iframe</>\n\nThe iframe (<i>${e}</>) has not responded within ${t[e].warningTimeout/1e3} seconds. Check <b>@iframe-resizer/child</> package has been loaded in the iframe.\n${n&&a?`\nThe <b>checkOrigin</> option is currently enabled. If the iframe redirects away from <i>${a}</>, then the connection to the iframe may be blocked by the browser. To disable this option, set <b>checkOrigin</> to <bb>false</> or an array of allowed origins. See <u>https://iframe-resizer.com/checkorigin</> for more information.\n`:""}${s&&!r?"\nThe <b>waitForLoad</> option is currently set to <bb>true</>. If the iframe loads before <i>iframe-resizer</> runs, this option will prevent <i>iframe-resizer</> initialising. To disable this option, set <b>waitForLoad</> to <bb>false</>.\n":""}${(e=>typeof e===y&&e.length>0&&!(e.contains("allow-scripts")&&e.contains("allow-same-origin")))(i)?"\nThe iframe has the <b>sandbox</> attribute, please ensure it contains both the <bb>allow-same-origin</> and <bb>allow-scripts</> values.\n":""}\nThis message can be ignored if everything is working, or you can set the <b>warningTimeout</> option to a higher value or zero to suppress this warning.\n`)}function xt(e,t){const n=n=>()=>{if(!ee[e])return;const{firstRun:o,iframe:r}=ee[e];Me(n,t,e),(e=>e===i)(n)&&(e=>"lazy"===e.loading)(r)||function(e,t){const{msgTimeout:n,warningTimeout:o}=t[e];o&&(n&&clearTimeout(n),t[e].msgTimeout=setTimeout(function(){if(void 0===t[e])return;const{initialised:n,loadErrorShown:o}=t[e];t[e].msgTimeout=void 0,n?t[e].initialisedFirstPage=!0:o||(t[e].loadErrorShown=!0,Mt(e,t))},o))}(e,ee),o||function(e){ee[e]?.heightCalculationMethod in T&&Ue({id:e,height:1,width:1,type:i})}(e)},{iframe:o}=ee[e];ee[e].initChild=n(r),function(e,t){je(e,s,()=>setTimeout(t,1))}(o,n(l)),function(e,t){const{iframe:n,waitForLoad:o}=ee[e];!0!==o&&((e=>{const{src:t,srcdoc:n}=e;return!n&&(null==t||""===t||"about:blank"===t)})(n)?setTimeout(()=>{de(e,"noContent"),le(e,"No content detected in the iframe, delaying initialisation")}):setTimeout(t))}(e,n(i))}function St(e,t){return t?(("sizeWidth"in t||"sizeHeight"in t||o in t)&&ge(e,`<rb>Deprecated Option</>\n\nThe <b>sizeWidth</>, <b>sizeHeight</> and <b>autoResize</> options have been replaced with new <b>direction</> option which expects values of <bb>${$}</>, <bb>${j}</>, <bb>${z}</> or <bb>${w}</>.\n`),t):{}}function Rt(e,t,n){C(ee[e],t)&&(ge(e,`<rb>Deprecated option</>\n\nThe <b>${t}</> option has been renamed to <b>${n}</>. ${O}`),ee[e][n]=ee[e][t],delete ee[e][t])}const Ot=e=>C(e,"onMouseEnter")||C(e,"onMouseLeave");function Et(e,t){const{id:n}=e;ee[n]={...ee[n],iframe:e,remoteHost:e?.src.split("/").slice(0,3).join("/"),...we,...St(n,t),mouseEvents:Ot(t),mode:ft(t),syncTitle:it(n)},function(e){Rt(e,"offset","offsetSize"),Rt(e,"onClose","onBeforeClose"),Rt(e,"onClosed","onAfterClose")}(n),function(e){const{direction:t}=ee[e];switch(t){case $:break;case j:ee[e].sizeHeight=!1;case z:ee[e].sizeWidth=!0;break;case w:ee[e].sizeWidth=!1,ee[e].sizeHeight=!1,ee[e].autoResize=!1;break;default:throw new TypeError(`Direction value of "${t}" is not valid`)}}(n),function(e,{offset:t,offsetSize:n}){const o=n||t;o&&(ee[e].direction===$?ee[e].offsetHeight=o:ee[e].offsetWidth=o)}(n,t),function(e){ee[e].warningTimeout||le(e,"warningTimeout:%c disabled",Z)}(n),function(e){const{id:t}=e;null===ee[t].postMessageTarget&&(ee[t].postMessageTarget=e.contentWindow)}(e),function(e){var t;ee[e].targetOrigin=!0===ee[e].checkOrigin?""===(t=ee[e].remoteHost)||null!==t.match(/^(about:blank|javascript:|file:\/\/)/)?"*":t:"*"}(n)}function It(e,t,o){Et(t,o),function(e){if(pt)return;const{mode:t}=ee[e];-1!==t&&mt(e,t)}(e),function(e){const{id:t}=e;switch(e.style.overflow=!1===ee[t]?.scrolling?"hidden":v,ee[t]?.scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=ee[t]?.scrolling||"no"}}(t),function(e){const{bodyMargin:t}=ee[e];"number"!=typeof t&&"0"!==t||(ee[e].bodyMargin=`${t}px`)}(e),xt(e,function(e){const{autoResize:t,bodyBackground:o,bodyMargin:i,bodyPadding:r,heightCalculationMethod:s,inPageLinks:a,license:l,log:c,logExpand:u,mouseEvents:d,offsetHeight:f,offsetWidth:p,mode:h,sizeHeight:m,sizeWidth:g,tolerance:y,widthCalculationMethod:b}=ee[e];return[e,$t,g,c,jt,Tt,t,i,s,o,r,y,a,kt,b,d,f,p,m,l,Le.version,h,"",u].join(n)}(e)),zt(e)}function Ct(e,t){const{id:n}=e;de(n,"setup"),function(e){if(!0===vt[e])return!1;const t=document.querySelectorAll(`iframe#${CSS.escape(e)}`);if(t.length<=1)return!0;vt[e]=!0;const n=Array.from(t).flatMap(e=>[h,e,h]);return ge(e,`<rb>Duplicate ID attributes detected</>\n\nThe <b>${e}</> ID is not unique. Having multiple iframes on the same page with the same ID causes problems with communication between the iframe and parent page. Please ensure that the ID of each iframe has a unique value.\n\nFound <bb>${t.length}</> iframes with the <b>${e}</> ID:`,...n,h),!1}(n)&&It(n,e,t),pe(n)}function Wt(e,t){const n=C(t,"log"),o=I(t.log),i=n?!!o||t.log:we.log;C(t,"logExpand")||(t.logExpand=n&&o?t.log===x:we.logExpand),function(e){-1===e?.log&&(e.log=!1,ht=!0)}(t),function({enabled:e,expand:t,iframeId:n}){const o=te({expand:t,label:re(n)});oe=e,ee[n]||(ee[n]={console:o})}({enabled:i,expand:t.logExpand,iframeId:e}),o&&!(t.log in R)&&ue(e,`Invalid value for options.log: Accepted values are "${x}" and "${S}"`),t.log=i}function Lt(e){if(!E(e))throw new TypeError("Options is not an object");return bt(),function(e){const{search:t}=window.location;t.includes("ifrlog")&&(e.log=S,e.logExpand=t.includes("ifrlog=expanded"))}(e),n=>{const o=$e(n,e);return t in n?(de(o,"alreadySetup"),ce(o,`Ignored iframe (${o}), already setup.`)):(Wt(o,e),he(o,Ct)(n,e)),n?.iframeResizer}}switch(!0){case void 0===window.jQuery:ce("","Unable to bind to jQuery, it is not available.");break;case!window.jQuery.fn:ce("","Unable to bind to jQuery, it is not fully loaded.");break;case window.jQuery.fn.iframeResize:ce("","iframeResize is already assigned to jQuery.fn.");break;default:window.jQuery.fn.iframeResize=function(e){const t=Lt(e);return this.filter("iframe").each((e,n)=>t(n)).end()},window.jQuery.fn.iFrameResize=function(e){return be("iFrameResize()","iframeResize()","","jQuery"),this.iframeResize(e)}}}();
