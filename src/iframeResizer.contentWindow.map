{"version":3,"file":"js/iframeResizer.contentWindow.min.js","sources":["iframeResizer.contentWindow.js"],"names":["addEventListener","el","evt","func","window","attachEvent","formatLogMsg","msg","msgID","myID","log","logging","console","warn","init","readData","setMargin","setBodyStyle","bodyBackground","bodyPadding","injectClearFixIntoBodyElement","checkHeightMode","stopInfiniteResizingOfIFrame","setupPublicMethods","startEventListeners","sendSize","strBool","str","data","initMsg","substr","msgIdLen","split","bodyMargin","undefined","Number","calculateWidth","interval","publicMethods","autoResize","bodyMarginStr","heightCalcMode","tolerance","chkCSS","attr","value","indexOf","document","body","style","documentElement","height","initWindowResizeListener","initWindowClickListener","heightCalcModeDefault","getHeight","setupMutationObserver","clearFix","createElement","clear","display","appendChild","parentIFrame","close","getId","reset","resetIFrame","scrollTo","x","y","sendMsg","sendMessage","targetOrigin","setHeightCalculationMethod","heightCalculationMethod","setTargetOrigin","targetOriginDefault","size","customHeight","customWidth","valString","lockTrigger","initInterval","setInterval","Math","abs","setupInjectElementLoadListners","mutations","addLoadListener","element","width","src","forEach","mutation","type","attributeName","target","images","querySelectorAll","Array","prototype","call","image","createMutationObserver","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observer","MutationObserver","observe","WebKitMutationObserver","getBodyOffsetHeight","getComputedBodyStyle","prop","convertUnitsToPxForIE8","PIXEL","test","parseInt","base","left","runtimeStyle","currentStyle","pixelLeft","retVal","defaultView","getComputedStyle","offsetHeight","getBodyScrollHeight","scrollHeight","getDEOffsetHeight","getDEScrollHeight","getLowestElementHeight","allElements","allElementsLength","length","maxBottomVal","timer","Date","getTime","i","getBoundingClientRect","bottom","getAllHeights","getMaxHeight","max","apply","getMinHeight","min","getBestHeight","getWidth","scrollWidth","triggerEvent","triggerEventDesc","recordTrigger","resetPage","resizeIFrame","currentHeight","currentWidth","isDoubleFiredEvent","triggerLocked","doubleEventList","isSizeChangeDetected","checkTolarance","a","b","isForceResizableEvent","isForceResizableHeightCalcMode","resetRequiredMethods","logIgnored","checkDownSizing","clearTimeout","triggerLockedTimer","setTimeout","eventCancelTimer","triggerReset","hcm","sendToParent","message","postMessage","receiver","event","isMessageForUs","initFromParent","source","firstRun","initLock","resetFromParent","getMessageType","isMiddleTier","isInitMsg","true","false","resize","click","scroll","bodyScroll","documentElementScroll","parent","offset","bodyOffset","documentElementOffset","grow","lowestElement"],"mappings":"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"}